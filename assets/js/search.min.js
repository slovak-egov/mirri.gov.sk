!function(g){function v(r,e,i,t,n,a,c){e=(e=e.replace("{{heading}}",a+" "+t)).replace("{{id-result}}",c+"result");var o=(e=g(e)).find("ul");g.each(n,function(e,t){var n=r;if(n=n.replace("{{date}}",t.date),n=(n=void 0!==t.fields.nahladovy_obrazok_perex?n.replace("{{present-image}}",'<div class="-image cover" style="background: url(\''+t.fields.nahladovy_obrazok_perex.value+"')\"></div>"):n.replace("{{present-image}}",'<div class="-image cover" style="background: url(\''+t.tmpImage+"')\"></div>")).replace("{{article-link}}",'<a href="'+t.url+'" target="_self">'+t.title+"</a>"),0<t.terms.length){var a=t.terms[0];i.length&&g.each(t.terms,function(e,t){if(g.inArray(String(t),i))return a=t,!0}),n=n.replace("{{category-link}}",'<a href="'+a.url+'" target="_self">'+a.name+"</a>")}else n=n.replace("{{category-link}}",'<a href="#" target="_self"></a>');o.append(n)}),g("#tempResult").append(e)}g.getJSON("/wp-content/themes/vicepremier/search.json",function(e){var t={};if(location.search.substr(1).split("&").forEach(function(e){t[e.split("=")[0]]=e.split("=")[1]}),void 0!==t.search){var n=decodeURIComponent(t.search);n=n.replace("+"," "),g('input[name="search"]').val(n);var a=function(e){var t,n,a=(e=e.split("")).length;for(t=0;t<a;t++)-1!=(n="ÀÁÂÃÄÅàáâãäåßÒÓÔÕÕÖØòóôõöøĎďDŽdžÈÉÊËèéêëðÇçČčÐÌÍÎÏìíîïÙÚÛÜùúûüĽĹľĺÑŇňñŔŕŠšŤťŸÝÿýŽž".indexOf(e[t]))&&(e[t]="AAAAAAaaaaaasOOOOOOOooooooDdDZdzEEEEeeeeeCcCcDIIIIiiiiUUUUuuuuLLllNNnnRrSsTtYYyyZz"[n]);return e.join("")}(n);n=n.toLowerCase(),a=a.toLowerCase();var i={},r=0;g.each(e,function(e,t){i[e]=function r(e,i,c,o,l,s){g.each(e,function(e,t){if("object"==typeof t&&null!==t)o=r(t,i,c,o,1,0==l?t:s);else if("string"==typeof t){var n=t.toLowerCase();if(0<=n.indexOf(i)||0<=n.indexOf(c)){var a=s;null==s&&(a=t),-1==g.inArray(a,o)&&o.push(a)}}});return o}(t,n,a,[],0,null)});var o=function(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++)e=n[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t}(),l=[],s=[],u=[],h=[];1<o.length&&g.each(o,function(e,t){if("search"==t)return!0;if(g('input[name="'+t+'"]').prop("checked",!0),$query="kategorie-",t.match("^"+$query)){var n=t.replace($query,"");if("on"==o[t])return l.push(n),!0}if($query="tag-",t.match("^"+$query)){n=t.replace($query,"");if("on"==o[t])return h.push(n),!0}if("today"==t&&"on"==o[t]){var a=new Date;return a.setHours(0,0,0,0),s.push({from:a,to:new Date}),!0}if("yesterday"==t&&"on"==o[t])return(i=new Date).setDate(i.getDate()-1),(c=new Date).setHours(0,0,0,0),s.push({from:i,to:c}),!0;if("last-month"==t&&"on"==o[t]){var r=new Date,i=new Date(r.getFullYear(),r.getMonth(),1),c=new Date;return s.push({from:i,to:c}),!0}if("past-year"==t&&"on"==o[t]){i=new Date("1990.1.1"),c=new Date((new Date).getFullYear(),0,1);return s.push({from:i,to:c}),!0}if("last-year"==t&&"on"==o[t]){i=new Date((new Date).getFullYear(),0,1),c=new Date;return s.push({from:i,to:c}),!0}"on"==o[t]&&u.push(t.replace("type-",""))}),u.length&&g.each(i,function(e,t){var n=[];g.each(t,function(e,t){-1!=g.inArray(t.type,u)&&n.push(t)}),i[e]=n}),l.length&&g.each(i,function(e,t){var a=[];g.each(t,function(e,n){g.each(n.terms,function(e,t){if(-1!=g.inArray(String(t.id),l))return a.push(n),!0})}),i[e]=a}),h.length&&g.each(i,function(e,t){var a=[];g.each(t,function(e,n){void 0!==n.tags&&n.tags.length&&g.each(n.tags,function(e,t){if(-1!=g.inArray(String(t),h))return a.push(n),!0})}),i[e]=a}),s.length&&g.each(i,function(e,t){var r=[];g.each(t,function(e,n){var a=!1;g.each(s,function(e,t){!function(e,t,n){var a,r,i;if(a=Date.parse(e),r=Date.parse(t),(i=Date.parse(n))<=r&&a<=i)return!0;return!1}(t.from,t.to,new Date(n.dateDefault))||(a=!0)}),a&&r.push(n)}),i[e]=r});var c=0;r=0;g.each(i,function(e,t){r+=t.length}),g("#countSearch").html(r),g("#count1,#count2,#count3").addClass("hidden"),0==r||4<r?g("#count3").removeClass("hidden"):1==r?g("#count1").removeClass("hidden"):g("#count2").removeClass("hidden"),0<r&&g("#search-title").removeClass("hidden");var f=[],p=[];g.each(i.sekcie,function(e,n){g.each(n.terms,function(e,t){void 0===f[t.id]&&(f[t.id]={name:t.name,url:t.url,sekcie:[]}),f[t.id].sekcie.push(n)})}),g.each(i.clanky,function(e,n){g.each(n.terms,function(e,t){void 0===p[t.id]&&(p[t.id]={name:t.name,url:t.url,clanky:[]}),p[t.id].clanky.push(n)})}),g.each(i,function(e,t){if(0!==t.length){var n="";if(n=1==t.length?objectNames[e+"-single"]:5<=t.length?objectNames[e+"-more"]:objectNames[e],"sekcie"===e){var a="";g.each(f,function(e,t){void 0!==t&&(a+=t.name+" ("+t.sekcie.length+"), ")}),0<a.length&&(n+=" - "+(a=a.substr(0,a.length-2)))}if("clanky"===e){a="";g.each(p,function(e,t){void 0!==t&&(a+=t.name+" ("+t.clanky.length+"), ")}),0<a.length&&(n+=" - "+(a=a.substr(0,a.length-2)))}g("#search-title").append(g("<a/>",{href:"#"+c+++"result",target:"_self",text:t.length+" "+n})),g("#search-title").append(", ")}});var m=g("#tempResult .result ul").html();g("#tempResult .result li").remove();var d=g("#tempResult").html();g("#tempResult .result").remove();c=0;g.each(i,function(e,t){if(t.length)if("clanky"!==e&&"sekcie"!==e){var n=d,a="";a=1==t.length?objectNames[e+"-single"]:5<=t.length?objectNames[e+"-more"]:objectNames[e],v(m,n,l,a,t,t.length,c++)}else{n=d,a="";a=1==t.length?objectNames[e+"-single"]:5<=t.length?objectNames[e+"-more"]:objectNames[e],v(m,n,l,a,[],t.length,c++),"sekcie"===e?g.each(f,function(e,t){void 0!==t&&(n=d,a=t.name,v(m,n,l,a,t.sekcie,t.sekcie.length,"tmp"))}):g.each(p,function(e,t){void 0!==t&&(n=d,a=t.name,v(m,n,l,a,t.clanky,t.clanky.length,"tmp"))})}}),g("#search-title a").on("click",function(e){e.preventDefault(),g("html,body").animate({scrollTop:g(this.hash).offset().top-200},500)})}g("#search-page *").hide(),g("#search-page *").not(".search-first").show()})}(jQuery);