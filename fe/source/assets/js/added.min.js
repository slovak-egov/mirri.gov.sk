!function(t,e){var a=[],n=[];function i(){let t=new Uint32Array(3);return window.crypto.getRandomValues(t),(performance.now().toString(36)+Array.from(t).map(t=>t.toString(36)).join("")).replace(/\./g,"")}function s(t,e){var a="",n=0;for(var s of e){var r=i();a+=`\n                <tr class="idsk-table__row header-row" id="${r}${n}">\n                    <td class="idsk-table__cell name-cell">\n                        <strong>${s.meno}</strong><br/>\n                        ${s.institucie.join(", ")}\n                    </td>\n                    <td class="idsk-table__cell">${s.popis}</td>\n                    <td class="idsk-table__cell link-cell"><a href="${s.kurikulum.url}" target="_blank">${s.kurikulum.title?s.kurikulum.title:s.kurikulum.url}</a></td>\n                    <td class="idsk-table__cell show-more-cell">\n                        <div class="show-more">\n                        </div>\n                    </td>\n                </tr>\n                <tr class="idsk-table__row hidden-row additional-row" data-id="${r}${n++}">\n                    <td class="idsk-table__cell" colspan="4">\n                        <div class="cell-content">\n                            <strong>Druh inštitúcie</strong>: ${s.druhy_institucie.join(", ")}<br/>\n                            <strong>Mesto</strong>: ${s.mesta.join(", ")}<br/>\n                            <strong>Oblasť expertízy</strong>: ${s.oblasti_exp.join(", ")}<br/>\n                            <strong>Odbory expertízy</strong>: ${s.odbory_exp.join(", ")}<br/>\n                            <strong>Aktivity sú aktuálne</strong>: ${s.aktualne}<br/>\n                        </div>\n                    </td>\n                </tr>\n            `}t.find(".idsk-table__body").html(a)}function r(e,a){e.find(".arrowBtn").removeClass("asc"),e.find(".arrowBtn").removeClass("desc");var n=e.find(".arrowBtn").data("none");e.find(".arrowBtn .sr-only").html(n),a&&(t(e.find(".arrowBtn")[0]).addClass("asc"),t(e.find(".arrowBtn")[0]).find(".sr-only").html(t(e.find(".arrowBtn")[0]).data.asc))}function o(t,e,a){return a.sort(function(a,n){switch("desc"===e&&(tmp=a,a=n,n=tmp),t){case"meno":case"popis":case"aktualne":return a[t].localeCompare(n[t]);case"mesta":case"institucie":case"druhy_institucie":case"druhy_instituciemesta":case"oblasti_exp":case"odbory_exp":return a[t].join(",").localeCompare(n[t].join(","))}})}function l(t,e,a){if(e&&a){a.clearLayers();for(let e of t){var n=L.marker([e.pos.lat,e.pos.lng]),i=`\n                <h4>${e.meno}</h4>\n                <small>${e.mesta.join(", ")}</small>\n                <p>\n                    <b>Druh inštitúcie:</b> ${e.druhy_institucie.join(", ")}<br/>\n                    <b>Názov inštitúcie: </b> ${e.institucie.join(", ")}<br/>\n                    <b>Oblasť expertízy: </b> ${e.oblasti_exp.join(", ")}<br/>\n                    <b>Odbory expertízy: </b> ${e.odbory_exp.join(", ")}<br/>\n                    <b>Popis aktivít: </b> ${e.popis}<br/>\n                    <b>Aktuálne aktivity: </b> ${e.aktualne}<br/>\n                    <b>Kurikulum: </b> <a href="${e.kurikulum.url}" target="_blank">${e.kurikulum.url}</a><br/>\n                </p>\n            `;function s(){this.unbindTooltip(),this.isPopupOpen()||this.bindTooltip(e.meno).openTooltip()}function r(){this.unbindTooltip()}n.bindPopup(i),n.on("mouseover",s),n.on("click",r),a.addLayer(n)}}}t(".youtube[data-href]").each(function(e){var a=t(this).parent(),n=t("<iframe/>",{src:t(this).data("href"),allowfullscreen:""});a.html(n)}),t('[data-fancybox="gallery"]').fancybox({loop:!1,thumbs:{autoStart:!0,hideOnClose:!0,parentEl:".fancybox-container",axis:"x"},buttons:["zoom","thumbs","close"]}),t(".replaced-image").find("img").each(function(){var e=this.height<t(this).parent().outerHeight()?"wide":"tall";t(this).removeClass("wide").removeClass("tall").addClass(e)}),t(".small-nav .menu-item-has-children > a").click(function(){return t(this).closest("li").toggleClass("active").children("ul").stop().slideToggle(),t(this).closest("li").hasClass("active")?t(this).closest("li").find("> a[aria-expanded]").attr("aria-expanded","true"):t(this).closest("li").find("> a[aria-expanded]").attr("aria-expanded","false"),!1}),t(".small-nav a[aria-expanded=true").closest("li").addClass("active"),t(".experts .arrowBtn").on("click",function(e){var a="asc";t(this).hasClass("asc")&&(a="desc"),$form=t(this).closest(".experts"),r($form,!1),t(this).addClass(a),t(this).find(".sr-only").html(t(this).data(a));var n=$form.data("id"),i=experts[n];i=o(t(this).data("col"),a,i),s($form,i)}),t(document).on("click",".header-row .show-more",function(e){var a=t(this).closest(".header-row").attr("id"),n=t('[data-id="'+a+'"]');n.hasClass("active")?(n.removeClass("active"),t("#"+a).removeClass("active")):(t(".additional-row, .header-row").removeClass("active"),n.addClass("active"),t("#"+a).addClass("active"))}),t(".experts-form").on("submit",function(){$form=t(this).closest(".experts");var e=t(this).find("*[name=druh_institucie]").val(),i=t(this).find("*[name=mesto]").val(),d=t(this).find("*[name=oblast_expertizy]").val(),c=t(this).find("*[name=aktualne]").val(),u=$form.data("id"),m=experts[u];r($form,!0),m=(m=o("meno","asc",m)).filter(function(t){return!(""!==e&&!t.druhy_institucie.includes(e))&&(!(""!==i&&!t.mesta.includes(i))&&(!(""!==d&&!t.oblasti_exp.includes(d))&&(""===c||t.aktualne===c)))}),s($form,m),l(m,a[u],n[u])}),t(".map-holder").length&&t(".map-holder").each(function(e,i){var s=L.map("map").setView([48.706285,19.613497],7);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(s);var r=L.markerClusterGroup();s.addLayer(r);var o=t(i).closest(".experts").data("id");a[o]=s,n[o]=r;experts[o];l(experts[o],s,r)})}(jQuery);