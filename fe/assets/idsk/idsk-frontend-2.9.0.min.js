!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(this,function(e){"use strict";function b(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t.call(window,e[i],i,e)}function m(e,t){null!==e&&(0<e.className.indexOf(t)?e.className=e.className.replace(" "+t,""):e.className+=" "+t)}function o(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t.call(window,e[i],i,e)}(function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,t=document.appendChild(document.createElement("body")),i=t.appendChild(document.createElement("iframe")).contentWindow.document,a=Element.prototype=i.appendChild(i.createElement("*")),l={},d=function(e,t){var i,s,n,o=e.childNodes||[],r=-1;if(1===e.nodeType&&e.constructor!==Element)for(i in e.constructor=Element,l)s=l[i],e[i]=s;for(;n=t&&o[++r];)d(n,t);return e},c=document.getElementsByTagName("*"),s=document.createElement,n=100;a.attachEvent("onpropertychange",function(e){for(var t,i=e.propertyName,s=!l.hasOwnProperty(i),n=a[i],o=l[i],r=-1;t=c[++r];)1===t.nodeType&&(!s&&t[i]!==o||(t[i]=n));l[i]=n}),a.constructor=Element,a.hasAttribute||(a.hasAttribute=function(e){return null!==this.getAttribute(e)}),o()||(document.onreadystatechange=o,e=setInterval(o,25)),document.createElement=function(e){var t=s(String(e).toLowerCase());return d(t)},document.removeChild(t)}else window.HTMLElement=window.Element;function o(){return n--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(d(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var a,l,d,c;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,l=Object.prototype.hasOwnProperty("__defineGetter__"),d="Getters & setters cannot be defined on this javascript engine",c="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,i){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,i);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(i instanceof Object))throw new TypeError("Property description must be an object");var s=String(t),n="value"in i||"writable"in i,o="get"in i&&typeof i.get,r="set"in i&&typeof i.set;if(o){if("function"!==o)throw new TypeError("Getter must be a function");if(!l)throw new TypeError(d);if(n)throw new TypeError(c);Object.__defineGetter__.call(e,s,i.get)}else e[s]=i.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!l)throw new TypeError(d);if(n)throw new TypeError(c);Object.__defineSetter__.call(e,s,i.set)}return"value"in i&&(e[s]=i.value),e})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(o){!function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(t){return!1}}(this)&&function(){var i={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var e=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,t){if(!e)throw new Error("Not enough arguments");var i;if("createEvent"in document){i=document.createEvent("Event");var s=!(!t||t.bubbles===o)&&t.bubbles,n=!(!t||t.cancelable===o)&&t.cancelable;return i.initEvent(e,s,n),i}return(i=document.createEventObject()).type=e,i.bubbles=!(!t||t.bubbles===o)&&t.bubbles,i.cancelable=!(!t||t.cancelable===o)&&t.cancelable,i},e&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:e}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var r=this,e=arguments[0],t=arguments[1];if(r===window&&e in i)throw new Error("In IE8 the event: "+e+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");r._events||(r._events={}),r._events[e]||(r._events[e]=function(e){var t,i=r._events[e.type].list,s=i.slice(),n=-1,o=s.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=r,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||r,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++n<o&&!e.cancelImmediate;)n in s&&-1!==a(i,t=s[n])&&"function"==typeof t&&t.call(r,e)},r._events[e].list=[],r.attachEvent&&r.attachEvent("on"+e,r._events[e])),r._events[e].list.push(t)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,i=arguments[0],s=arguments[1];t._events&&t._events[i]&&t._events[i].list&&-1!==(e=a(t._events[i].list,s))&&(t._events[i].list.splice(e,1),t._events[i].list.length||(t.detachEvent&&t.detachEvent("on"+i,t._events[i]),delete t._events[i]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,i=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var s=function(e){e.cancelBubble=!0,(t||window).detachEvent("on"+i,s)};this.attachEvent("on"+i,s)}this.fireEvent("on"+i,e)}catch(n){for(e.target=t;"_events"in(e.currentTarget=t)&&"function"==typeof t._events[i]&&t._events[i].call(t,e),"function"==typeof t["on"+i]&&t["on"+i].call(t,e),(t=9===t.nodeType?t.parentWindow:t.parentNode)&&!e.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}function a(e,t){for(var i=-1,s=e.length;++i<s;)if(i in e&&e[i]===t)return i;return-1}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){var i,e=Array,s=Object,n=s.prototype,o=e.prototype,r=function r(){},a=n.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,d=Function.prototype.toString,c=function c(e){try{return d.call(e),!0}catch(t){return!1}};i=function i(e){if("function"!=typeof e)return!1;if(l)return c(e);var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var u=o.slice,h=o.concat,p=o.push,b=Math.max,m=this;if(!i(m))throw new TypeError("Function.prototype.bind called on incompatible "+m);for(var f,v=u.call(arguments,1),k=b(0,m.length-v.length),y=[],g=0;g<k;g++)p.call(y,"$"+g);return f=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof f){var e=m.apply(this,h.call(v,u.call(arguments)));return s(e)===e?e:this}return m.apply(t,h.call(v,u.call(arguments)))}),m.prototype&&(r.prototype=m.prototype,f.prototype=new r,r.prototype=null),f}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});function i(e){this.$module=e,this.debounceFormSubmitTimer=null}i.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},i.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},i.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};var r="boolean"==typeof document.createElement("details").open;function s(e){this.$module=e}function n(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count")}function a(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="checkbox"]')}function l(e){this.$module=e}function d(e){this.$module=e}function c(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;o(t.querySelectorAll('[data-module="govuk-button"]'),function(e){new i(e).init()}),o(t.querySelectorAll('[data-module="govuk-details"]'),function(e){new s(e).init()}),o(t.querySelectorAll('[data-module="govuk-character-count"]'),function(e){new n(e).init()}),o(t.querySelectorAll('[data-module="govuk-checkboxes"]'),function(e){new a(e).init()}),new l(t.querySelector('[data-module="govuk-error-summary"]')).init(),o(t.querySelectorAll('[data-module="govuk-radios"]'),function(e){new d(e).init()})}s.prototype.handleInputs=function(e,i){e.addEventListener("keypress",function(e){var t=e.target;13!==e.keyCode&&32!==e.keyCode||"summary"===t.nodeName.toLowerCase()&&(e.preventDefault(),t.click?t.click():i(e))}),e.addEventListener("keyup",function(e){var t=e.target;32===e.keyCode&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()}),e.addEventListener("click",i)},s.prototype.init=function(){var e=this.$module;if(e){var t=this.$summary=e.getElementsByTagName("summary").item(0),i=this.$content=e.getElementsByTagName("div").item(0);if(t&&i)i.id||(i.id="details-content-"+function s(){var i=(new Date).getTime();return"undefined"!=typeof window.performance&&"function"==typeof window.performance.now&&(i+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)})}()),e.setAttribute("role","group"),t.setAttribute("role","button"),t.setAttribute("aria-controls",i.id),r||(t.tabIndex=0),!0==(null!==e.getAttribute("open"))?(t.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false")):(t.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),r||(i.style.display="none")),this.handleInputs(t,this.setAttributes.bind(this))}},s.prototype.setAttributes=function(){var e=this.$module,t=this.$summary,i=this.$content,s="true"===t.getAttribute("aria-expanded"),n="true"===i.getAttribute("aria-hidden");t.setAttribute("aria-expanded",s?"false":"true"),i.setAttribute("aria-hidden",n?"false":"true"),r||(i.style.display=s?"none":"",null!==e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open"));return!0},s.prototype.destroy=function(e){e.removeEventListener("keypress"),e.removeEventListener("keyup"),e.removeEventListener("click")},function(s){var e,t,i;"DOMTokenList"in this&&(!("classList"in(e=document.createElement("x")))||!e.classList.toggle("x",!1)&&!e.className)||("DOMTokenList"in(t=this)&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(t.DOMTokenList=function(){var n=!0,i=function(e,t,i,s){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===n||!!s,get:i}):e.__defineGetter__(t,i)};try{i({},"support")}catch(e){n=!1}return function(n,o){var r=this,a=[],l={},d=0,e=0,t=function(e){i(r,e,function(){return u(),a[e]},!1)},c=function(){if(e<=d)for(;e<d;++e)t(e)},u=function(){var e,t,i=arguments,s=/\s+/;if(i.length)for(t=0;t<i.length;++t)if(s.test(i[t]))throw(e=new SyntaxError('String "'+i[t]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(a="object"==typeof n[o]?(""+n[o].baseVal).replace(/^\s+|\s+$/g,"").split(s):(""+n[o]).replace(/^\s+|\s+$/g,"").split(s))[0]&&(a=[]),l={},t=0;t<a.length;++t)l[a[t]]=!0;d=a.length,c()};return u(),i(r,"length",function(){return u(),d}),r.toLocaleString=r.toString=function(){return u(),a.join(" ")},r.item=function(e){return u(),a[e]},r.contains=function(e){return u(),!!l[e]},r.add=function(){u.apply(r,e=arguments);for(var e,t,i=0,s=e.length;i<s;++i)l[t=e[i]]||(a.push(t),l[t]=!0);d!==a.length&&(d=a.length>>>0,"object"==typeof n[o]?n[o].baseVal=a.join(" "):n[o]=a.join(" "),c())},r.remove=function(){u.apply(r,e=arguments);for(var e,t={},i=0,s=[];i<e.length;++i)t[e[i]]=!0,delete l[e[i]];for(i=0;i<a.length;++i)t[a[i]]||s.push(a[i]);d=(a=s).length>>>0,"object"==typeof n[o]?n[o].baseVal=a.join(" "):n[o]=a.join(" "),c()},r.toggle=function(e,t){return u.apply(r,[e]),s!==t?t?(r.add(e),!0):(r.remove(e),!1):l[e]?(r.remove(e),!1):(r.add(e),!0)},r}}()),"classList"in(i=document.createElement("span"))&&(i.classList.toggle("x",!1),i.classList.contains("x")&&(i.classList.constructor.prototype.toggle=function(e){var t=arguments[1];if(t!==s)return this[(t=!!t)?"add":"remove"](e),t;var i=!this.contains(e);return this[i?"add":"remove"](e),i})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var s=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,t=arguments.length,i=0;i<t;i++)s.call(this,e[i])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var s=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,t=arguments.length,i=0;i<t;i++)s.call(this,e[i])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var c=!0,u=function(e,t,i,s){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===c||!!s,get:i}):e.__defineGetter__(t,i)};try{u({},"support")}catch(t){c=!1}var h=function(e,l,d){u(e.prototype,l,function(){var e,t=this,i="__defineGetter__DEFINE_PROPERTY"+l;if(t[i])return e;if(!(t[i]=!0)===c){for(var s,n=h.mirror||document.createElement("div"),o=n.childNodes,r=o.length,a=0;a<r;++a)if(o[a]._R===t){s=o[a];break}s=s||n.appendChild(document.createElement("div")),e=DOMTokenList.call(s,t,d)}else e=new DOMTokenList(t,d);return u(t,l,function(){return e}),delete t[i],e},!0)};h(e.Element,"classList","className"),h(e.HTMLElement,"classList","className"),h(e.HTMLLinkElement,"relList","rel"),h(e.HTMLAnchorElement,"relList","rel"),h(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),n.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},n.prototype.init=function(){var e=this.$module;if(this.$textarea){this.options=this.getDataset(e);var t=this.defaults.characterCountAttribute;if(this.options.maxwords&&(t=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(t),this.maxLength){var i=this.createCountMessage.bind(this);if(this.countMessage=i(),this.countMessage)e.removeAttribute("maxlength"),this.bindChangeEvents.bind(this)(),this.updateCountMessage.bind(this)()}}},n.prototype.getDataset=function(e){var t={},i=e.attributes;if(i)for(var s=0;s<i.length;s++){var n=i[s],o=n.name.match(/^data-(.+)/);o&&(t[o[1]]=n.value)}return t},n.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},n.prototype.createCountMessage=function(){var e=this.$textarea,t=e.id,i=document.getElementById(t+"-info");return t&&!i?(e.insertAdjacentHTML("afterend",'<span id="'+t+'-info" class="govuk-hint govuk-character-count__message" aria-live="polite"></span>'),this.describedBy=e.getAttribute("aria-describedby"),this.describedByInfo=this.describedBy+" "+t+"-info",e.setAttribute("aria-describedby",this.describedByInfo),i=document.getElementById(t+"-info")):e.insertAdjacentElement("afterend",i),i},n.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},n.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage.bind(this)())},n.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,i=this.countMessage,s=this.count(e.value),n=this.maxLength,o=n-s;s<n*(t.threshold?t.threshold:0)/100?(i.classList.add("govuk-character-count__message--disabled"),i.setAttribute("aria-hidden",!0)):(i.classList.remove("govuk-character-count__message--disabled"),i.removeAttribute("aria-hidden")),o<0?(e.classList.add("govuk-textarea--error"),i.classList.remove("govuk-hint"),i.classList.add("govuk-error-message")):(e.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"));var r,a,l="character";t.maxwords&&(l="word"),l+=-1==o||1==o?"":"s",r=o<0?"too many":"remaining",a=Math.abs(o),i.innerHTML="You have "+a+" "+l+" "+r},n.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},n.prototype.handleBlur=function(){clearInterval(this.valueChecker)},a.prototype.init=function(){var i=this.$module;o(this.$inputs,function(e){var t=e.getAttribute("data-aria-controls");t&&i.querySelector("#"+t)&&(e.setAttribute("aria-controls",t),e.removeAttribute("data-aria-controls"),this.setAttributes(e))}.bind(this)),i.addEventListener("click",this.handleClick.bind(this))},a.prototype.setAttributes=function(e){var t=e.checked;e.setAttribute("aria-expanded",t);var i=this.$module.querySelector("#"+e.getAttribute("aria-controls"));i&&i.classList.toggle("govuk-checkboxes__conditional--hidden",!t)},a.prototype.handleClick=function(e){var t=e.target,i="checkbox"===t.getAttribute("type"),s=t.getAttribute("aria-controls");i&&s&&this.setAttributes(t)},function(e){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=0;t[i]&&t[i]!==this;)++i;return!!t[i]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),l.prototype.init=function(){var e=this.$module;e&&(e.focus(),e.addEventListener("click",this.handleClick.bind(this)))},l.prototype.handleClick=function(e){var t=e.target;this.focusTarget(t)&&e.preventDefault()},l.prototype.focusTarget=function(e){if("A"!==e.tagName||!1===e.href)return!1;var t=this.getFragmentFromUrl(e.href),i=document.getElementById(t);if(!i)return!1;var s=this.getAssociatedLegendOrLabel(i);return!!s&&(s.scrollIntoView(),i.focus({preventScroll:!0}),!0)},l.prototype.getFragmentFromUrl=function(e){return-1!==e.indexOf("#")&&e.split("#").pop()},l.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var i=t.getElementsByTagName("legend");if(i.length)return i[0]}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")},d.prototype.init=function(){var i=this.$module;o(i.querySelectorAll('input[type="radio"]'),function(e){var t=e.getAttribute("data-aria-controls");t&&i.querySelector("#"+t)&&(e.setAttribute("aria-controls",t),e.removeAttribute("data-aria-controls"),this.setAttributes(e))}.bind(this)),i.addEventListener("click",this.handleClick.bind(this))},d.prototype.setAttributes=function(e){var t=document.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-radios__conditional")){var i=e.checked;e.setAttribute("aria-expanded",i),t.classList.toggle("govuk-radios__conditional--hidden",!i)}},d.prototype.handleClick=function(e){var i=e.target;"radio"===i.type&&o(document.querySelectorAll('input[type="radio"][aria-controls]'),function(e){var t=e.form===i.form;e.name===i.name&&t&&this.setAttributes(e)}.bind(this))};function u(e){this.$module=e,this.debounceFormSubmitTimer=null}function h(e){this.$module=e}function p(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count")}function f(e){this.$module=e}function v(e){this.$module=e}function k(e){this.$module=e}function y(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=t.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}u.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},u.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},u.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},h.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector("#idsk-footer-extended-feedback-yes-button"),i=e.querySelector("#idsk-footer-extended-feedback-no-button"),s=e.querySelector("#idsk-footer-extended-error-button"),n=e.querySelector("#idsk-footer-extended-close-error-form-button"),o=e.querySelector("#idsk-footer-extended-close-help-form-button"),r=e.querySelector("#idsk-footer-extended-error-form #with-hint"),a=e.querySelector("#submit-button-error-form"),l=e.querySelector("#idsk-footer-extended-write-us-button"),d=e.querySelector("#footer-extended-up-button");t&&i&&(t.addEventListener("click",this.handleYesButtonClick.bind(this)),i.addEventListener("click",this.handleNoButtonClick.bind(this))),s&&s.addEventListener("click",this.handleErrorButtonClick.bind(this)),l&&l.addEventListener("click",this.handleErrorButtonClick.bind(this)),o&&o.addEventListener("click",this.handleCloseHelpFormButtonClick.bind(this)),n&&n.addEventListener("click",this.handleCloseErrorFormButtonClick.bind(this)),a&&a.addEventListener("click",this.handleSubmitButtonClick.bind(this)),r&&r.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this)),null!=d&&window.addEventListener("scroll",this.scrollFunction.bind(this))}},h.prototype.handleSubmitButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-error-form"),s=this.$module.querySelector("#idsk-footer-extended-info-question"),n=this.$module.querySelector("#idsk-footer-extended-heart"),o=this.$module.querySelector("#idsk-footer-extended-feedback");m(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),t.classList.add("idsk-footer-extended-display-hidden"),i.classList.add("idsk-footer-extended-display-hidden"),t.classList.remove("idsk-footer-extended-open"),i.classList.remove("idsk-footer-extended-open"),m(s,"idsk-footer-extended-heart"),m(n,"idsk-footer-extended-heart-visible"),m(o,"idsk-footer-extended-display-none");var r=this.$module.querySelector("#sort"),a=this.$module.querySelector("#with-hint"),l=this.$module.querySelector(".idsk-footer-extended__feedback-info"),d=r.value,c=a.value;if(l){var u=l.getAttribute("data-email"),h=l.getAttribute("data-subject"),p=l.textContent;p=p.replace("%issue%",d).replace("%description%",c),document.location="mailto:"+u+"?subject="+h+"&body="+p}},h.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module.querySelector("#with-hint"),i=this.$module.querySelector("#with-hint-info"),s=this.$module.querySelector("#submit-button-error-form");setTimeout(function(){t.classList.contains("govuk-textarea--error")||i.classList.contains("govuk-error-message")?s.disabled=!0:s.disabled=!1},300)},h.prototype.handleYesButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-error-form"),s=this.$module.querySelector("#idsk-footer-extended-info-question"),n=this.$module.querySelector("#idsk-footer-extended-heart");t.classList.add("idsk-footer-extended-display-hidden"),i.classList.add("idsk-footer-extended-display-hidden"),m(s,"idsk-footer-extended-heart"),m(n,"idsk-footer-extended-heart-visible")},h.prototype.handleNoButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-feedback");m(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),m(i,"idsk-footer-extended-display-none"),m(t,"idsk-footer-extended-display-hidden"),m(t,"idsk-footer-extended-open")},h.prototype.handleErrorButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-error-form"),i=this.$module.querySelector("#idsk-footer-extended-help-form"),s=this.$module.querySelector("#idsk-footer-extended-feedback");m(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),m(s,"idsk-footer-extended-display-none"),i.classList.add("idsk-footer-extended-display-hidden"),i.classList.remove("idsk-footer-extended-open"),m(t,"idsk-footer-extended-display-hidden"),m(t,"idsk-footer-extended-open")},h.prototype.handleCloseErrorFormButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-error-form"),i=this.$module.querySelector("#idsk-footer-extended-feedback");m(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),m(i,"idsk-footer-extended-display-none"),m(t,"idsk-footer-extended-open"),m(t,"idsk-footer-extended-display-hidden")},h.prototype.handleCloseHelpFormButtonClick=function(){var e=this.$module.querySelector("#idsk-footer-extended-help-form"),t=this.$module.querySelector("#idsk-footer-extended-feedback");m(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),m(t,"idsk-footer-extended-display-none"),m(e,"idsk-footer-extended-open"),m(e,"idsk-footer-extended-display-hidden")},h.prototype.scrollFunction=function(){var e=this.$module.querySelector("#footer-extended-up-button");768<window.innerWidth&&(document.body.scrollTop>window.screen.height||document.documentElement.scrollTop>window.screen.height)?e.style.display="block":e.style.display="none"},p.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},p.prototype.init=function(){var e=this.$module;if(this.$textarea){this.options=this.getDataset(e);var t=this.defaults.characterCountAttribute;if(this.options.maxwords&&(t=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(t),this.maxLength){var i=this.createCountMessage.bind(this);if(this.countMessage=i(),this.countMessage)e.removeAttribute("maxlength"),this.bindChangeEvents.bind(this)(),this.updateCountMessage.bind(this)()}}},p.prototype.getDataset=function(e){var t={},i=e.attributes;if(i)for(var s=0;s<i.length;s++){var n=i[s],o=n.name.match(/^data-(.+)/);o&&(t[o[1]]=n.value)}return t},p.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},p.prototype.createCountMessage=function(){var e=this.$textarea,t=e.id,i=document.getElementById(t+"-info");return t&&!i?(e.insertAdjacentHTML("afterend",'<span id="'+t+'-info" class="govuk-hint govuk-character-count__message" aria-live="polite"></span>'),this.describedBy=e.getAttribute("aria-describedby"),this.describedByInfo=this.describedBy+" "+t+"-info",e.setAttribute("aria-describedby",this.describedByInfo),i=document.getElementById(t+"-info")):e.insertAdjacentElement("afterend",i),i},p.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},p.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage.bind(this)())},p.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,i=this.countMessage,s=this.count(e.value),n=this.maxLength,o=n-s;s<n*(t.threshold?t.threshold:0)/100?(i.classList.add("govuk-character-count__message--disabled"),i.setAttribute("aria-hidden",!0)):(i.classList.remove("govuk-character-count__message--disabled"),i.removeAttribute("aria-hidden")),o<0?(e.classList.add("govuk-textarea--error"),i.classList.remove("govuk-hint"),i.classList.add("govuk-error-message")):(e.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"));var r="znak",a=o;t.maxwords&&(r="slov"),1<o&&o<5||-5<o&&o<-1?r+="y":1==o||-1==o||(r+="ov"),a=Math.abs(o),o<0?(a="-"+a,i.innerHTML="Prekročili ste maximálny počet znakov"):i.innerHTML="Zostáva Vám "+a+" "+r+" "},p.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},p.prototype.handleBlur=function(){clearInterval(this.valueChecker)},f.prototype.init=function(){var e=this.$module,t=e.querySelector("#idsk-customer-surveys__send-button"),i=e.querySelector("#idsk-customer-surveys__previous-button"),s=e.querySelector(".idsk-customer-surveys-text-area #first"),n=e.querySelector(".idsk-customer-surveys-text-area #second"),o=e.querySelector(".idsk-customer-surveys-text-area #third"),r=e.querySelector(".idsk-customer-surveys-text-area #fourth"),a=e.querySelector(".idsk-customer-survey__radio--work"),l=e.querySelector(".idsk-customer-survey__radio--private");e.sendButtonDisabled=new Array(7),e.textAreaMap=new Map,e&&(this.handleCounterOfSubtitles.call(this,7),this.enableNextButtonForAllSteps.call(this),a&&a.addEventListener("click",this.handleRadioButtonWorkClick.bind(this)),l&&l.addEventListener("click",this.handleRadioButtonPrivateClick.bind(this)),t&&t.addEventListener("click",this.handleNextButtonClick.bind(this)),i&&i.addEventListener("click",this.handlePreviousButtonClick.bind(this)),s&&(e.textAreaMap.set("first",1),s.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),n&&(e.textAreaMap.set("second",2),n.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),o&&(e.textAreaMap.set("third",4),o.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),r&&(e.textAreaMap.set("fourth",5),r.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))))},f.prototype.enableNextButtonForAllSteps=function(e){for(var t=0;t<this.$module.sendButtonDisabled.length;t++)this.$module.sendButtonDisabled[t]=!1},f.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module,i=e.srcElement.id,s=t.querySelector("#"+i),n=t.querySelector("#"+i+"-info"),o=t.querySelector("#idsk-customer-surveys__send-button");setTimeout(function(){s.classList.contains("govuk-textarea--error")||n.classList.contains("govuk-error-message")?o.disabled=!0:(o.disabled=!1,t.sendButtonDisabled[t.textAreaMap.get(i)]=!1)},300)},f.prototype.handleCounterOfSubtitles=function(e){var t,i=this.$module.querySelectorAll(".idsk-customer-surveys--subtitle");for(t=0;t<e;t++)i[t].textContent=i[t].textContent.substring(3),i[t].innerHTML=t+1+". "+i[t].textContent},f.prototype.handleRadioButtonWorkClick=function(e){var t=this.$module.querySelector(".idsk-customer-survey__text-area--work");this.$module.querySelector(".idsk-customer-survey__subtitle--work").classList.add("idsk-customer-surveys--subtitle"),t.classList.remove("idsk-customer-surveys--hidden"),this.handleCounterOfSubtitles.call(this,8)},f.prototype.clearTextArea=function(e){var t=e.querySelector(".govuk-textarea"),i=e.querySelector(".govuk-character-count__message");t.value="",t.classList.contains("govuk-textarea--error")&&(t.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"),i.innerHTML=e.dataset.lines)},f.prototype.handleRadioButtonPrivateClick=function(e){var t=this.$module.querySelector(".idsk-customer-survey__text-area--work"),i=this.$module.querySelector(".idsk-customer-survey__subtitle--work");this.$module.querySelector("#idsk-customer-surveys__send-button").disabled=!1,i.classList.remove("idsk-customer-surveys--subtitle"),t.classList.add("idsk-customer-surveys--hidden"),this.clearTextArea.call(this,t),this.handleCounterOfSubtitles.call(this,7)},f.prototype.handlePreviousButtonClick=function(e){var t,i=this.$module,s=i.querySelectorAll(".idsk-customer-surveys__step"),n=i.querySelector("#idsk-customer-surveys__send-button"),o=i.querySelector("#idsk-customer-surveys__previous-button"),r=i.querySelectorAll(".idsk-button__start-icon"),a=i.querySelector(".idsk-customer-surveys__send-button");for(o.blur(),t=1;t<s.length-1;t++)if(o.textContent==o.dataset.line2&&s[1].classList.contains("idsk-customer-surveys--show")&&(o.innerHTML=o.dataset.line1,a.innerHTML=a.dataset.line1,m(r[0],"idsk-customer-surveys__icon--hidden"),o.onclick=function(){location.href="/"}),a.textContent.includes(a.dataset.line3)&&(a.innerHTML=a.dataset.line2,n.setAttribute("type","button"),m(r[0],"idsk-customer-surveys__icon--hidden")),s[t].classList.contains("idsk-customer-surveys--show"))return n.disabled&&(i.sendButtonDisabled[t]=!0,n.disabled=!1),s[t].classList.remove("idsk-customer-surveys--show"),m(s[t],"idsk-customer-surveys--hidden"),m(s[t-1],"idsk-customer-surveys--hidden"),void s[t-1].classList.add("idsk-customer-surveys--show")},f.prototype.handleNextButtonClick=function(e){var t=this.$module,i=t.querySelectorAll(".idsk-customer-surveys__step"),s=t.querySelector(".idsk-customer-surveys__buttons"),n=t.querySelector("#idsk-customer-surveys__send-button"),o=t.querySelector("#idsk-customer-surveys__previous-button"),r=t.querySelectorAll(".idsk-button__start-icon"),a=t.querySelector(".idsk-customer-surveys__send-button");if(n.blur(),a.textContent.includes(a.dataset.line1)){a.innerHTML=a.dataset.line2,m(r[0],"idsk-customer-surveys__icon--hidden"),this.handleRadioButtonPrivateClick.call(this);for(var l=t.querySelectorAll(".govuk-radios__input"),d=0;d<l.length;d++)l[d].checked=!1;var c=t.querySelectorAll(".idsk-customer-surveys-text-area");for(d=0;d<c.length;d++)this.clearTextArea.call(this,c[d]);this.enableNextButtonForAllSteps.call(this)}for(a.textContent.includes(a.dataset.line3)&&s.classList.add("idsk-customer-surveys--hidden"),d=0;d<i.length-1;d++)if(i[d].classList.contains("idsk-customer-surveys--show"))return t.sendButtonDisabled[d+1]?n.disabled=!0:n.disabled=!1,i[d].classList.remove("idsk-customer-surveys--show"),m(i[d],"idsk-customer-surveys--hidden"),m(i[d+1],"idsk-customer-surveys--hidden"),i[d+1].classList.add("idsk-customer-surveys--show"),4==d&&(a.innerHTML=a.dataset.line3,setTimeout(function(){n.setAttribute("type","submit")},500),m(r[0],"idsk-customer-surveys__icon--hidden")),void(0==d&&(o.innerHTML=o.dataset.line2,o.onclick=function(){location.href="#"}))},v.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-header-web__banner");this.$lastScrollTopPosition=0,t&&document.addEventListener("scroll",this.handleToggleBanner.bind(this));var i=e.querySelector(".idsk-header-web__banner-close");if(i&&i.addEventListener("click",this.handleCloseBanner.bind(this)),this.$languageBtn=e.querySelector(".idsk-header-web__brand-language-button"),this.$languageBtn)e.querySelector(".idsk-header-web__brand-language").addEventListener("keydown",this.languegeEscPressed.bind(this)),this.$languageBtn.addEventListener("click",this.handleLanguageSwitcherClick.bind(this)),b(e.querySelectorAll(".idsk-header-web__brand-language-list-item:last-child .idsk-header-web__brand-language-list-item-link"),function(e){e.addEventListener("blur",this.checkBlurLanguageSwitcherClick.bind(this))}.bind(this)),this.$languageBtn.addEventListener("keydown",this.handleBackTabbing.bind(this));e.boundCheckBlurLanguageSwitcherClick=this.checkBlurLanguageSwitcherClick.bind(this);var s=e.querySelectorAll(".idsk-header-web__brand-gestor-button");this.$eGovermentSpacer=e.querySelector(".idsk-header-web__brand-spacer"),0<s.length&&b(s,function(e){e.addEventListener("click",this.handleEgovermentClick.bind(this))}.bind(this));var n=e.querySelector(".idsk-header-web__nav-list"),o=e.querySelectorAll(".idsk-header-web__nav-list-item-link");o&&n&&(b(o,function(e){e.addEventListener("click",this.handleSubmenuClick.bind(this)),(e.parentElement.querySelector(".idsk-header-web__nav-submenu")||e.parentElement.querySelector(".idsk-header-web__nav-submenulite"))&&e.parentElement.lastElementChild.addEventListener("keydown",this.menuTabbing.bind(this))}.bind(this)),e.addEventListener("keydown",this.navEscPressed.bind(this))),this.$menuButton=e.querySelector(".idsk-header-web__main-headline-menu-button"),this.$menuButton&&(this.$menuButton.addEventListener("click",this.showMobileMenu.bind(this)),this.menuBtnText=this.$menuButton.innerText.trim(),this.initMobileMenuTabbing()),e.boundCheckBlurMenuItemClick=this.checkBlurMenuItemClick.bind(this)}},v.prototype.handleToggleBanner=function(e){if(!this.$module.querySelector(".idsk-header-web__nav--mobile"))return!1;var t=window.pageYOffset||document.scrollTop;t>this.$lastScrollTopPosition?this.$module.querySelector(".idsk-header-web__banner").classList.add("idsk-header-web__banner--scrolled"):t<this.$lastScrollTopPosition&&this.$module.querySelector(".idsk-header-web__banner").classList.remove("idsk-header-web__banner--scrolled"),this.$lastScrollTopPosition=window.pageYOffset||document.scrollTop},v.prototype.handleCloseBanner=function(e){(e.target||e.srcElement).closest(".idsk-header-web__banner").classList.add("idsk-header-web__banner--hide")},v.prototype.handleLanguageSwitcherClick=function(e){var t=e.target||e.srcElement;this.$activeSearch=t.closest(".idsk-header-web__brand-language"),m(this.$activeSearch,"idsk-header-web__brand-language--active"),this.$activeSearch.classList.contains("idsk-header-web__brand-language--active")?(this.$activeSearch.firstElementChild.setAttribute("aria-expanded","true"),this.$activeSearch.firstElementChild.setAttribute("aria-label",this.$activeSearch.firstElementChild.getAttribute("data-text-for-hide"))):(this.$activeSearch.firstElementChild.setAttribute("aria-expanded","false"),this.$activeSearch.firstElementChild.setAttribute("aria-label",this.$activeSearch.firstElementChild.getAttribute("data-text-for-show"))),document.addEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},v.prototype.checkBlurLanguageSwitcherClick=function(e){e.target.classList.contains("idsk-header-web__brand-language-button")||(this.$activeSearch.classList.remove("idsk-header-web__brand-language--active"),this.$activeSearch.firstElementChild.setAttribute("aria-expanded","false"),this.$activeSearch.firstElementChild.setAttribute("aria-label",this.$activeSearch.firstElementChild.getAttribute("data-text-for-show")),document.removeEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0))},v.prototype.handleBackTabbing=function(e){e.shiftKey&&9==e.keyCode&&document.activeElement==this.$languageBtn&&this.handleLanguageSwitcherClick(e)},v.prototype.languegeEscPressed=function(e){"Escape"===e.key&&"true"==this.$languageBtn.getAttribute("aria-expanded")&&this.handleLanguageSwitcherClick(e)},v.prototype.handleEgovermentClick=function(e){var t=this.$module.querySelectorAll(".idsk-header-web__brand-gestor-button");m(this.$module.querySelector(".idsk-header-web__brand-dropdown"),"idsk-header-web__brand-dropdown--active"),m(this.$eGovermentSpacer,"idsk-header-web__brand-spacer--active"),b(t,function(e){m(e,"idsk-header-web__brand-gestor-button--active"),e.classList.contains("idsk-header-web__brand-gestor-button--active")?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label",e.getAttribute("data-text-for-hide"))):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",e.getAttribute("data-text-for-show")))}.bind(this))},v.prototype.handleSubmenuClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-header-web__nav-list-item"),i=this.$module.querySelector(".idsk-header-web__nav-list-item--active");i&&i.isEqualNode(t)?(i.classList.remove("idsk-header-web__nav-list-item--active"),t.childNodes[3]&&(i.childNodes[1].setAttribute("aria-expanded","false"),t.childNodes[1].setAttribute("aria-label",t.childNodes[1].getAttribute("data-text-for-show")))):(i&&i.classList.remove("idsk-header-web__nav-list-item--active"),m(t,"idsk-header-web__nav-list-item--active"),t.childNodes[3]&&t.classList.contains("idsk-header-web__nav-list-item--active")&&(t.childNodes[1].setAttribute("aria-expanded","true"),t.childNodes[1].setAttribute("aria-label",t.childNodes[1].getAttribute("data-text-for-hide")),window.screen.width<=768&&t.scrollIntoView({behavior:"smooth"}))),document.addEventListener("click",this.$module.boundCheckBlurMenuItemClick.bind(this),!0)},v.prototype.menuTabbing=function(e){if("Tab"===e.key||9===e.keyCode){var t=e.srcElement.parentElement.parentElement,i=t.closest(".idsk-header-web__nav-list-item");e.shiftKey?document.activeElement===t.firstElementChild.firstElementChild&&(i.classList.remove("idsk-header-web__nav-list-item--active"),i.childNodes[1].setAttribute("aria-expanded","false"),i.childNodes[1].setAttribute("aria-label",i.childNodes[1].getAttribute("data-text-for-show"))):document.activeElement===t.lastElementChild.lastElementChild&&(i.classList.remove("idsk-header-web__nav-list-item--active"),i.childNodes[1].setAttribute("aria-expanded","false"),i.childNodes[1].setAttribute("aria-label",i.childNodes[1].getAttribute("data-text-for-show")))}},v.prototype.navEscPressed=function(e){if("Escape"===e.key){var t=e.srcElement.parentElement.parentElement;(t.classList.contains("idsk-header-web__nav-submenulite-list")||t.classList.contains("idsk-header-web__nav-submenu-list"))&&(t=t.closest(".idsk-header-web__nav-list"));var i=t.querySelector(".idsk-header-web__nav-list-item--active");i?(i.classList.remove("idsk-header-web__nav-list-item--active"),i.childNodes[1].setAttribute("aria-expanded","false"),i.childNodes[1].setAttribute("aria-label",i.childNodes[1].getAttribute("data-text-for-show")),i.childNodes[1].focus()):"true"==this.$menuButton.getAttribute("aria-expanded")&&this.showMobileMenu()}},v.prototype.checkBlurMenuItemClick=function(e){var t=this.$module.querySelector(".idsk-header-web__nav-list-item--active");t&&!e.target.classList.contains("idsk-header-web__nav-list-item-link")&&(t.classList.remove("idsk-header-web__nav-list-item--active"),t.childNodes[3]&&(t.childNodes[1].setAttribute("aria-expanded","false"),t.childNodes[1].setAttribute("aria-label",t.childNodes[1].getAttribute("data-text-for-show"))),document.removeEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0))},v.prototype.showMobileMenu=function(){var e=this.menuBtnText?"Zavrieť":"";m(this.$module.querySelector(".idsk-header-web__nav"),"idsk-header-web__nav--mobile"),m(this.$menuButton,"idsk-header-web__main-headline-menu-button--active"),this.$menuButton.classList.contains("idsk-header-web__main-headline-menu-button--active")?(this.$menuButton.setAttribute("aria-expanded","true"),this.$menuButton.setAttribute("aria-label",this.$menuButton.getAttribute("data-text-for-hide"))):(this.$menuButton.setAttribute("aria-expanded","false"),this.$menuButton.setAttribute("aria-label",this.$menuButton.getAttribute("data-text-for-show")));var t=this.$menuButton.classList.contains("idsk-header-web__main-headline-menu-button--active");this.$menuButton.childNodes[0].nodeValue=t?e:this.menuBtnText},v.prototype.initMobileMenuTabbing=function(){var e=this.$module.querySelector(".idsk-header-web__nav"),t=Array.from(e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])')).filter(function(e){return"none"!=window.getComputedStyle(e).getPropertyValue("display")}),i=this.$menuButton,s=t[t.length-1];i.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||!e.shiftKey||"true"!=e.target.getAttribute("aria-expanded")||(s.focus(),e.preventDefault())}),s.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||e.shiftKey||(i.focus(),e.preventDefault())})},k.prototype.init=function(){if(this.$module){var t=this.$module;if(t.resultCards=new Array,t.countOfCardsPerPage=new Number,t.currentPageNumber=new Number,t.subTopicButton=t.querySelector(".idsk-search-results__subtopic"),t.subTopicButton&&(t.subTopicButton.disabled=!0),t.querySelectorAll(".idsk-search-results__link")){var e=t.querySelector(".idsk-search-results__content .govuk-select");if(e){var i=t.querySelector(".idsk-search-results__button--back");if(i){var s=t.querySelector(".idsk-search-results__button--forward");if(s){var n=t.querySelector(".idsk-search-results__button--back__mobile");if(i){var o=t.querySelector(".idsk-search-results__button--forward__mobile");if(s&&(t.resultCards=t.querySelectorAll(".idsk-search-results__card"),t.resultCards)){var r=t.querySelectorAll(".idsk-search-results__link-panel-button");if(r){var a=t.querySelector(".idsk-search-results__filters__button");if(a){var l=t.querySelector(".idsk-search-results__button--turn-filters-off");if(l){var d=t.querySelector(".idsk-search-results__button-show-results");if(d){var c=t.querySelector(".idsk-search-results__button--back-to-results");if(c){var u=t.querySelectorAll(".idsk-search-results__filter .govuk-radios__input ");if(u){var h=t.querySelectorAll(".idsk-search-results__filter .govuk-checkboxes__input ");if(h){var p=t.querySelector("#datum-od"),b=t.querySelector("#datum-do"),m=t.querySelector("#idsk-search-input__topic");m&&m.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var f=t.querySelector("#idsk-search-input__subtopic");f&&f.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var v=t.querySelector("#idsk-search-input__content-type");v&&v.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"checkboxes")),p&&(p.addEventListener("focusout",this.handleFillDate.bind(this,"from")),""!=p.value&&this.handleFillDate.call(this,"from",p),b.addEventListener("focusout",this.handleFillDate.bind(this,"to")),""!=b.value&&this.handleFillDate.call(this,"to",b)),i.addEventListener("click",this.handleClickPreviousPage.bind(this)),s.addEventListener("click",this.handleClickNextPage.bind(this)),n.addEventListener("click",this.handleClickPreviousPage.bind(this)),o.addEventListener("click",this.handleClickNextPage.bind(this)),a.addEventListener("click",this.handleClickFiltersButton.bind(this)),l.addEventListener("click",this.handleClickTurnFiltersOffButton.bind(this)),d.addEventListener("click",this.handleClickShowResultsButton.bind(this)),c.addEventListener("click",this.handleClickShowResultsButton.bind(this)),t.boundHandleClickLinkPanel=this.handleClickLinkPanel.bind(this),t.countOfCardsPerPage=e.value,t.currentPageNumber=1,this.showResultCardsPerPage.call(this,0,e.value),e.addEventListener("change",this.handleClickResultsPerPageDropdown.bind(this)),a.innerText=a.title+"(0)",r.forEach(function(e){e.addEventListener("click",t.boundHandleClickLinkPanel,!0)}.bind(this)),u.forEach(function(e){e.addEventListener("click",this.handleClickRadioButton.bind(this),!0),e.checked&&this.handleClickRadioButton.call(this,e)}.bind(this)),h.forEach(function(e){e.addEventListener("click",this.handleClickContentTypeCheckBox.bind(this),!0),e.checked&&this.handleClickContentTypeCheckBox.call(this,e)}.bind(this)),this.handleClickFiltersButton.call(this),this.handleClickShowResultsButton.call(this)}}}}}}}}}}}}}}},k.prototype.handleClickShowResultsButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__filter"),s=t.querySelector(".idsk-search-results .idsk-search-results__search-bar"),n=t.querySelector(".idsk-search-results .idsk-intro-block__search__span"),o=t.querySelector(".idsk-search-results--order__dropdown"),r=t.querySelector(".idsk-search-results__filter-panel--mobile"),a=t.querySelector(".idsk-search-results--order"),l=t.querySelector(".idsk-search-results__page-number--mobile"),d=t.querySelector(".idsk-search-results__content__page-changer"),c=t.querySelector(".idsk-search-results__content__all"),u=t.querySelector(".idsk-search-results__filter-header-panel"),h=t.querySelector(".idsk-search-results__content__picked-filters"),p=t.querySelector(".idsk-search-results__show-results__button"),b=t.querySelector(".idsk-search-results__content"),m=t.querySelector(".idsk-search-results__title"),f=document.getElementsByTagName("header"),v=document.getElementsByTagName("footer"),k=document.getElementsByClassName("govuk-breadcrumbs");m.classList.remove("idsk-search-results--invisible__mobile"),b.classList.remove("idsk-search-results--invisible__mobile"),p.classList.add("idsk-search-results--invisible"),h.classList.add("idsk-search-results--invisible__mobile"),i.classList.remove("idsk-search-results--visible"),u.classList.remove("idsk-search-results--visible__mobile--inline"),c.classList.remove("idsk-search-results--invisible__mobile"),l.classList.remove("idsk-search-results--invisible"),d.classList.remove("idsk-search-results--invisible__mobile"),s.classList.remove("idsk-search-results--invisible__mobile"),n&&n.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible__mobile"),r.classList.remove("idsk-search-results--invisible__mobile"),a.classList.remove("idsk-search-results--invisible"),f[0]&&v[0]&&k[0]&&(f[0].classList.remove("idsk-search-results--invisible__mobile"),v[0].classList.remove("idsk-search-results--invisible__mobile"),k[0].classList.remove("idsk-search-results--invisible__mobile"))},k.prototype.handleSomeFilterPicked=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__content"),s=t.querySelectorAll(".idsk-search-results__picked-topic"),n=t.querySelectorAll(".idsk-search-results__picked-content-type"),o=t.querySelectorAll(".idsk-search-results__picked-date"),r=0<s.length||0<n.length||0<o.length;return r?i.classList.remove("idsk-search-results--invisible__mobile"):i.classList.add("idsk-search-results--invisible__mobile"),r},k.prototype.handleCountForFiltersButton=function(e){var t=this.$module,i=t.querySelectorAll(".idsk-search-results__picked-topic"),s=t.querySelectorAll(".idsk-search-results__picked-content-type"),n=t.querySelectorAll(".idsk-search-results__picked-date"),o=t.querySelector(".idsk-search-results__filters__button"),r=i.length+s.length+n.length;o.innerText=o.title+"("+r+")"},k.prototype.handleClickTurnFiltersOffButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__content"),s=t.querySelectorAll(".idsk-search-results__picked-topic"),n=t.querySelectorAll(".idsk-search-results__picked-content-type"),o=t.querySelectorAll(".idsk-search-results__picked-date"),r=t.querySelector(".idsk-search-results__filters__button");i.classList.add("idsk-search-results--invisible__mobile"),r.innerText=r.title+"(0)",s.forEach(function(e){this.handleRemovePickedTopic.call(this,e)}.bind(this)),n.forEach(function(e){this.handleRemovePickedContentType.call(this,e)}.bind(this)),o.forEach(function(e){this.handleRemovePickedDate.call(this,e)}.bind(this))},k.prototype.handleClickFiltersButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__filter"),s=t.querySelector(".idsk-search-results .idsk-search-results__search-bar"),n=t.querySelector(".idsk-search-results .idsk-intro-block__search__span"),o=t.querySelector(".idsk-search-results--order__dropdown"),r=t.querySelector(".idsk-search-results__filter-panel--mobile"),a=t.querySelector(".idsk-search-results--order"),l=t.querySelector(".idsk-search-results__page-number--mobile"),d=t.querySelector(".idsk-search-results__content__page-changer"),c=t.querySelector(".idsk-search-results__content__all"),u=t.querySelector(".idsk-search-results__filter-header-panel"),h=t.querySelector(".idsk-search-results__content__picked-filters"),p=t.querySelector(".idsk-search-results__show-results__button"),b=t.querySelector(".idsk-search-results__title"),m=document.getElementsByTagName("header"),f=document.getElementsByTagName("footer"),v=document.getElementsByClassName("govuk-breadcrumbs");this.handleSomeFilterPicked.call(this)&&(p.classList.remove("idsk-search-results--invisible"),h.classList.remove("idsk-search-results--invisible__mobile")),b.classList.add("idsk-search-results--invisible__mobile"),i.classList.add("idsk-search-results--visible"),u.classList.add("idsk-search-results--visible__mobile--inline"),c.classList.add("idsk-search-results--invisible__mobile"),l.classList.add("idsk-search-results--invisible"),d.classList.add("idsk-search-results--invisible__mobile"),s.classList.add("idsk-search-results--invisible__mobile"),n&&n.classList.add("idsk-search-results--invisible__mobile"),o.classList.add("idsk-search-results--invisible__mobile"),r.classList.add("idsk-search-results--invisible__mobile"),m[0]&&f[0]&&v[0]&&(m[0].classList.add("idsk-search-results--invisible__mobile"),f[0].classList.add("idsk-search-results--invisible__mobile"),v[0].classList.add("idsk-search-results--invisible__mobile")),a.classList.add("idsk-search-results--invisible")},k.prototype.handleClickPreviousPage=function(e){var t=this.$module;location.href="#",t.currentPageNumber=t.currentPageNumber-1,this.showResultCardsPerPage.call(this,t.countOfCardsPerPage*(t.currentPageNumber-1),t.countOfCardsPerPage*t.currentPageNumber)},k.prototype.handleClickNextPage=function(e){var t=this.$module;location.href="#",t.currentPageNumber=t.currentPageNumber+1,this.showResultCardsPerPage.call(this,t.countOfCardsPerPage*(t.currentPageNumber-1),t.countOfCardsPerPage*t.currentPageNumber)},k.prototype.handleClickResultsPerPageDropdown=function(e){var t=e.target||e.srcElement;this.$module.countOfCardsPerPage=t.value,this.showResultCardsPerPage.call(this,0,t.value)},k.prototype.handleSearchItemsFromInput=function(t,e){var i=e.target||e.srcElement,s=i.closest(".idsk-search-results__link-panel").querySelectorAll(".govuk-"+t+"__item");s.forEach(function(e){e.classList.remove("idsk-search-results--invisible")}.bind(this)),s.forEach(function(e){e.querySelector(".govuk-"+t+"__label").innerText.toLowerCase().includes(i.value.toLowerCase())||e.classList.add("idsk-search-results--invisible")}.bind(this))},k.prototype.handleFillDate=function(e,t){var i=t.target||t.srcElement||t,s=this.$module,n=s.querySelector(".idsk-search-results__content__picked-filters__date"),o=n.querySelector('[data-source="'+i.id+'"]'),r=s.querySelector(".idsk-search-results__content");if(""!=i.value&&(i.value.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/)||i.value.match(/^(\d{4})$/))){if(i.value&&!o)var a=this.createTopicInContainer.call(this,n,i.id,"idsk-search-results__picked-date",i,"datum-od"==i.id);else o&&((a=o).innerHTML=i.value+" &#10005;");r.classList.remove("idsk-search-results--invisible__mobile"),a.addEventListener("click",this.handleRemovePickedDate.bind(this)),i.value="",n.classList.remove("idsk-search-results--invisible"),this.checkValuesInDateContainer.call(this),this.changeBackgroundForPickedFilters.call(this)}},k.prototype.handleRemovePickedDate=function(e){(e.target||e.srcElement||e).remove(),this.handleSomeFilterPicked.call(this),this.checkValuesInDateContainer.call(this),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},k.prototype.createSpanElement=function(e,t){var i=document.createElement("span");return i.setAttribute("class",e),i.innerHTML=t,i},k.prototype.checkValuesInDateContainer=function(e){var t=this.$module.querySelector(".idsk-search-results__content__picked-filters__date"),i="idsk-search-results__before-date",s="idsk-search-results__after-date",n=t.querySelector("."+i),o=t.querySelector("."+s);if(n&&n.remove(),o&&o.remove(),t.querySelector('[data-source="datum-od"]')||t.querySelector('[data-source="datum-do"]')){if(t.querySelector('[data-source="datum-od"]')&&t.querySelector('[data-source="datum-do"]')){n=this.createSpanElement.call(this,i,t.dataset.lines+" "+t.dataset.middle),o=this.createSpanElement.call(this,s,"a ");t.insertBefore(n,t.querySelector('[data-source="datum-od"]')),t.insertBefore(o,t.querySelector('[data-source="datum-do"]'))}else if(t.querySelector('[data-source="datum-od"]')){n=this.createSpanElement.call(this,i,t.dataset.lines+" "+t.dataset.after);t.insertBefore(n,t.querySelector('[data-source="datum-od"]'))}else if(t.querySelector('[data-source="datum-do"]')){o=this.createSpanElement.call(this,s,t.dataset.lines+" "+t.dataset.before);t.insertBefore(o,t.querySelector('[data-source="datum-do"]'))}}else t.classList.add("idsk-search-results--invisible")},k.prototype.showResultCardsPerPage=function(e,t){var i,s=this.$module,n=s.querySelector(".idsk-search-results__button--back"),o=s.querySelector(".idsk-search-results__button--forward"),r=(s.querySelector(".idsk-search-results__page-number"),s.querySelector(".idsk-search-results__button--back__mobile")),a=s.querySelector(".idsk-search-results__button--forward__mobile"),l=s.querySelector(".idsk-search-results__page-number__mobile");for(s.resultCards.forEach(function(e){e.classList.contains("idsk-search-results--invisible")||e.classList.add("idsk-search-results--invisible")}.bind(this)),t>=s.resultCards.length?(t=s.resultCards.length,o.classList.add("idsk-search-results--hidden"),n.classList.remove("idsk-search-results--hidden"),a.classList.add("idsk-search-results--hidden"),r.classList.remove("idsk-search-results--hidden")):(o.classList.remove("idsk-search-results--hidden"),a.classList.remove("idsk-search-results--hidden")),e<0?e=0:0<e?(n.classList.remove("idsk-search-results--hidden"),r.classList.remove("idsk-search-results--hidden")):0==e&&(s.currentPageNumber=1),i=e;i<t;i++)s.resultCards[i].classList.remove("idsk-search-results--invisible");0!=e||n.classList.contains("idsk-search-results--hidden")||(n.classList.add("idsk-search-results--hidden"),r.classList.add("idsk-search-results--hidden"));var d=1+(s.resultCards.length/s.countOfCardsPerPage|0),c=s.querySelector(".idsk-search-results__page-number span"),u=c.dataset.lines.replace("$value1",s.currentPageNumber).replace("$value2",d);c.innerText=u,l.innerText=u},k.prototype.handleClickLinkPanel=function(e){var t=(e.target||e.srcElement).closest(".idsk-search-results__link-panel");m(t.querySelector(".idsk-search-results__list"),"idsk-search-results--hidden"),m(t,"idsk-search-results--expand")},k.prototype.handleClickRadioButton=function(e){var t=e.target||e.srcElement||e,i=this.$module,s=t.closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span"),n=i.querySelector(".idsk-search-results__content__picked-filters__topics"),o=t.closest(".govuk-radios"),r=n.querySelector('[data-source="'+o.dataset.id+'"]'),a="idsk-search-results__picked-topic",l=i.querySelector(".idsk-search-results__content");if(t.value&&!r){var d=this.createTopicInContainer.call(this,n,o.dataset.id,a,t,!1);i.subTopicButton&&(i.subTopicButton.disabled=!1)}else if(r.dataset.source==o.dataset.id)(d=r).innerHTML=t.value+" &#10005;";else if(r.dataset.source!=o.dataset.id)d=this.createTopicInContainer.call(this,n,o.dataset.id,a,t,!1);l.classList.remove("idsk-search-results--invisible__mobile"),n.classList.remove("idsk-search-results--invisible"),d.removeEventListener("click",this.handleRemovePickedTopic.bind(this),!0),d.addEventListener("click",this.handleRemovePickedTopic.bind(this)),this.changeBackgroundForPickedFilters.call(this),s.innerText="1 "+s.dataset.lines},k.prototype.handleClickContentTypeCheckBox=function(e){var t=e.target||e.srcElement||e,i=this.$module,s=t.closest(".idsk-search-results__link-panel"),n=i.querySelector(".idsk-search-results__content__picked-filters__content-type"),o=t.closest(".govuk-checkboxes"),r=i.querySelector(".idsk-search-results__content");t.checked?this.createTopicInContainer.call(this,n,t.id,"idsk-search-results__picked-content-type",t,!1).addEventListener("click",this.handleRemovePickedContentType.bind(this)):i.querySelector('[data-source="'+t.id+'"]').remove();r.classList.remove("idsk-search-results--invisible__mobile"),n.classList.remove("idsk-search-results--invisible"),this.handleCountOfPickedContentTypes.call(this,o,s),this.changeBackgroundForPickedFilters.call(this)},k.prototype.handleRemovePickedContentType=function(e){var t=e.target||e.srcElement||e,i=this.$module.querySelector(".idsk-search-results__content-type-filter .govuk-checkboxes"),s=i.querySelector("#"+t.dataset.source),n=i.closest(".idsk-search-results__link-panel");s.checked=!1,t.remove(),this.handleSomeFilterPicked.call(this),this.handleCountOfPickedContentTypes.call(this,i,n),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},k.prototype.handleCountOfPickedContentTypes=function(e,t){var i=this.$module.querySelector(".idsk-search-results__content__picked-filters__content-type"),s=t.querySelector(".idsk-search-results__link-panel--span"),n=0;e&&e.querySelectorAll(".govuk-checkboxes__input").forEach(function(e){e.checked&&(n+=1)}.bind(this)),0==n?(s.innerText="",i.classList.add("idsk-search-results--invisible")):s.innerText=n+" "+s.dataset.lines},k.prototype.createTopicInContainer=function(e,t,i,s,n){var o=this.$module.querySelector(".idsk-search-results__show-results__button"),r=this.$module.querySelector(".idsk-search-results__button--turn-filters-off"),a=this.$module.querySelector(".idsk-search-results__content__picked-filters"),l=document.createElement("button");return l.setAttribute("class",i),l.setAttribute("tabindex","0"),l.setAttribute("data-source",t),l.setAttribute("data-id",s.id),l.innerHTML=s.value+" &#10005;",n?e.prepend(l):e.appendChild(l),a.classList.remove("idsk-search-results--invisible"),a.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible"),r.classList.remove("idsk-search-results--invisible"),this.handleCountForFiltersButton.call(this),l},k.prototype.changeBackgroundForPickedFilters=function(e){var t=this.$module.querySelector(".idsk-search-results__content__picked-filters").querySelectorAll("div:not(.idsk-search-results--invisible)");if(0!=t.length){var i;for(t.forEach(function(e){e.classList.remove("idsk-search-results--grey"),e.classList.remove("idsk-search-results--border")}.bind(this)),i=0;i<t.length;i++)0!=i&&2!=i||t[i].classList.add("idsk-search-results--grey");t[t.length-1].classList.add("idsk-search-results--border")}},k.prototype.disableSubtopic=function(e){var t=this.$module.subTopicButton.parentElement.querySelector(".idsk-search-results__list");this.$module.subTopicButton.parentElement.classList.remove("idsk-search-results--expand"),t.classList.add("idsk-search-results--hidden"),this.$module.subTopicButton&&(this.$module.subTopicButton.disabled=!0)},k.prototype.handleRemovePickedTopic=function(e){var t=e.target||e.srcElement||e,i=this.$module.querySelector(".idsk-search-results__content__picked-filters__topics");if("tema"==t.dataset.source){var s=i.querySelector('[data-source="podtema"]');s?this.removeTopic.call(this,s,!0):this.$module.subTopicButton&&this.disableSubtopic.call(this),i.classList.add("idsk-search-results--invisible")}this.removeTopic.call(this,t,!1)},k.prototype.removeTopic=function(e,t){var i=this.$module.querySelector('[data-id="'+e.dataset.source+'"]');i.closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span").innerText="",i.querySelectorAll(".govuk-radios__input").forEach(function(e){e.checked=!1}.bind(this)),t&&this.$module.subTopicButton&&this.disableSubtopic.call(this),e.remove(),this.handleSomeFilterPicked.call(this),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},y.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},y.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$openAllButton),this.$module.insertBefore(e,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},y.prototype.initSectionHeaders=function(){o(this.$sections,function(e,t){var i=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},y.prototype.initHeaderAttributes=function(t,e){var i=this,s=t.querySelector("."+this.sectionButtonClass),n=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass),r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.moduleId+"-heading-"+(e+1)),r.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",function(e){t.classList.contains(i.sectionHeaderFocusedClass)||(t.className+=" "+i.sectionHeaderFocusedClass)}),r.addEventListener("blur",function(e){t.classList.remove(i.sectionHeaderFocusedClass)}),null!=o&&r.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var d=document.createElement("span");d.className=this.iconClass,d.setAttribute("aria-hidden","true"),n.appendChild(d)},y.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},y.prototype.onOpenOrCloseAllToggle=function(){var t=this,e=this.$sections,i=!this.checkIfAllSectionsOpen();o(e,function(e){t.setExpanded(i,e),t.storeState(e)}),t.updateOpenAllButton(i)},y.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)},y.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},y.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},y.prototype.updateOpenAllButton=function(e){var t=e?"Close all":"Open all";t+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var t={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};function g(e){this.$module=e,this.$tabs=e.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}function _(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;o(t.querySelectorAll('[data-module="govuk-accordion"]'),function(e){new y(e).init()}),o(t.querySelectorAll('[data-module="govuk-tabs"]'),function(e){new g(e).init()}),c(e)}function S(e){this.$module=e}function L(e){this.$module=e,this.$items=e.querySelectorAll(".idsk-crossroad-title")}function w(e){this.$module=e}function E(e){this.$module=e}function C(e){this.$module=e,this.selectedFitlersCount=0,this.$activeFilters=[],this.removeAllFiltersText=e.querySelector(".idsk-table-filter__active-filters").dataset.removeAllFilters,this.removeFilterText=e.querySelector(".idsk-table-filter__active-filters").dataset.removeFilter}function A(e){this.$module=e,this.$moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".idsk-stepper__section"),this.$links=e.querySelectorAll(".idsk-stepper__section-content .govuk-link"),this.$openAllButton="",this.$browserSupportsSessionStorage=x.checkForSessionStorage(),this.$controlsClass="idsk-stepper__controls",this.$openAllClass="idsk-stepper__open-all",this.$iconClass="idsk-stepper__icon",this.$sectionHeaderClass="idsk-stepper__section-header",this.$sectionHeaderFocusedClass="idsk-stepper__section-header--focused",this.$sectionHeadingClass="idsk-stepper__section-heading",this.$sectionSummaryClass="idsk-stepper__section-summary",this.$sectionButtonClass="idsk-stepper__section-button",this.$sectionExpandedClass="idsk-stepper__section--expanded"}y.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},y.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},function(e){"Element"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return 1===e.nodeType?e:null}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return 1===e.nodeType?e:null}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),g.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},g.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},g.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},g.prototype.setup=function(){var e=this.$module,t=this.$tabs,i=e.querySelector(".govuk-tabs__list"),s=e.querySelectorAll(".govuk-tabs__list-item");if(t&&i&&s){i.setAttribute("role","tablist"),o(s,function(e){e.setAttribute("role","presentation")}),o(t,function(e){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.boundTabKeydown=this.onTabKeydown.bind(this),e.addEventListener("click",e.boundTabClick,!0),e.addEventListener("keydown",e.boundTabKeydown,!0),this.hideTab(e)}.bind(this));var n=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(n),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},g.prototype.teardown=function(){var e=this.$module,t=this.$tabs,i=e.querySelector(".govuk-tabs__list"),s=e.querySelectorAll(".govuk-tabs__list-item");t&&i&&s&&(i.removeAttribute("role"),o(s,function(e){e.removeAttribute("role","presentation")}),o(t,function(e){e.removeEventListener("click",e.boundTabClick,!0),e.removeEventListener("keydown",e.boundTabKeydown,!0),this.unsetAttributes(e)}.bind(this)),window.removeEventListener("hashchange",e.boundOnHashChange,!0))},g.prototype.onHashChange=function(e){var t=window.location.hash,i=this.getTab(t);if(i)if(this.changingHash)this.changingHash=!1;else{var s=this.getCurrentTab();this.hideTab(s),this.showTab(i),i.focus()}},g.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},g.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},g.prototype.getTab=function(e){return this.$module.querySelector('.govuk-tabs__tab[href="'+e+'"]')},g.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");var i=this.getPanel(e);i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",e.id),i.classList.add(this.jsHiddenClass)},g.prototype.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass)},g.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab"))return!1;e.preventDefault();var t=e.target,i=this.getCurrentTab();this.hideTab(i),this.showTab(t),this.createHistoryEntry(t)},g.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),i=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=i},g.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},g.prototype.activateNextTab=function(){var e=this.getCurrentTab(),t=e.parentNode.nextElementSibling;if(t)var i=t.querySelector(".govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))},g.prototype.activatePreviousTab=function(){var e=this.getCurrentTab(),t=e.parentNode.previousElementSibling;if(t)var i=t.querySelector(".govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))},g.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},g.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},g.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},g.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1")},g.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0")},g.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},g.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},S.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector("#idsk-feedback__question-bar #feedback"),i=e.querySelector("#idsk-feedback__send-button"),s=e.querySelectorAll(".idsk-feedback__radio-button");if(s){var n=this;b(s,function(e){e.addEventListener("click",n.handleRadioButtonClick.bind(n))})}i&&i.addEventListener("click",this.handleSendButtonClick.bind(this)),t&&t.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))}},S.prototype.handleSendButtonClick=function(e){var t=this.$module.querySelector("#idsk-feedback__thanks");this.$module.querySelector("#idsk-feedback__content").classList.add("idsk-feedback--hidden"),t.classList.remove("idsk-feedback--hidden")},S.prototype.handleRadioButtonClick=function(e){var t=this.$module.querySelector("#idsk-feedback__question-bar");e.srcElement.classList.contains("idsk-feedback-textarea--show")?(t.classList.add("idsk-feedback--open"),t.classList.remove("idsk-feedback--invisible")):(t.classList.remove("idsk-feedback--open"),t.classList.add("idsk-feedback--invisible"))},S.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module.querySelector("#feedback"),i=this.$module.querySelector("#feedback-info"),s=this.$module.querySelector("#idsk-feedback__send-button");setTimeout(function(){t.classList.contains("govuk-textarea--error")||i.classList.contains("govuk-error-message")?s.disabled=!0:s.disabled=!1},300)},L.prototype.init=function(){var e=this.$module,t=this.$items,i=e.querySelector("#idsk-crossroad__uncollapse-button");e&&t&&(i&&i.addEventListener("click",this.handleShowItems.bind(this)),b(t,function(e){e.addEventListener("click",this.handleItemClick.bind(this))}.bind(this)))},L.prototype.handleItemClick=function(e){e.target.setAttribute("aria-current","true")},L.prototype.setAriaLabel=function(e){e.forEach(function(e){e.classList.contains("idsk-crossroad__arria-hidden")?(e.setAttribute("aria-hidden","true"),m(e,"idsk-crossroad__arria-hidden")):"true"==e.getAttribute("aria-hidden")&&(e.setAttribute("aria-hidden","false"),m(e,"idsk-crossroad__arria-hidden"))})},L.prototype.handleShowItems=function(e){var t=this.$module.querySelectorAll(".idsk-crossroad__item"),i=this.$module.querySelector("#idsk-crossroad__uncollapse-button"),s=this.$module.querySelector(".idsk-crossroad__uncollapse-div"),n=this.$module.querySelectorAll(".idsk-crossroad-title"),o=this.$module.querySelectorAll(".idsk-crossroad-subtitle");t.forEach(function(e){m(e,"idsk-crossroad__item--two-columns-show")}),this.setAriaLabel(n),this.setAriaLabel(o),i.innerHTML=i.textContent==i.dataset.line1?i.dataset.line2:i.dataset.line1,m(e.srcElement,"idsk-crossroad__colapse--button-show"),m(s,"idsk-crossroad__collapse--shadow"),m(s,"idsk-crossroad__collapse--arrow")},w.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-in-page-navigation__link");if(t){this.$arrTitlesAndElems=[],t.forEach(function(e){var t={};t.el=document.getElementById(e.href.split("#")[1]),this.$arrTitlesAndElems.push(t),e.addEventListener("click",this.handleClickLink.bind(this))}.bind(this));var i=e.querySelector(".idsk-in-page-navigation__link-panel");i&&(e.boundCheckCloseClick=this.checkCloseClick.bind(this),e.boundHandleClickLinkPanel=this.handleClickLinkPanel.bind(this),i.addEventListener("click",e.boundHandleClickLinkPanel,!0),window.addEventListener("scroll",this.scrollFunction.bind(this)),this.$module.labelChanged=!1)}}},w.prototype.handleClickLink=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-in-page-navigation__link").href.split("#")[1],s=this.$module.getElementsByClassName("idsk-in-page-navigation__link-panel")[0].offsetHeight;setTimeout(function(){null!=document.getElementById(i)?(this.$module.labelChanged=!0,this.changeCurrentLink(t),window.scrollTo(0,document.getElementById(i).offsetTop-2.5*s)):this.changeCurrentLink(t)}.bind(this),10)},w.prototype.handleClickLinkPanel=function(e){var t=this.$module,i=t.querySelector(".idsk-in-page-navigation__link-panel");t.classList.add("idsk-in-page-navigation--expand"),i.removeEventListener("click",t.boundHandleClickLinkPanel,!0),document.addEventListener("click",t.boundCheckCloseClick,!0)},w.prototype.checkCloseClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-in-page-navigation__list"),i=this.$module,s=i.querySelector(".idsk-in-page-navigation__link-panel");null==t&&(e.stopPropagation(),i.classList.remove("idsk-in-page-navigation--expand"),s.addEventListener("click",i.boundHandleClickLinkPanel,!0),document.removeEventListener("click",i.boundCheckCloseClick,!0))},w.prototype.scrollFunction=function(){var e=this.$module,t=this.$arrTitlesAndElems,i=e.parentElement.offsetTop-55,s=e.querySelectorAll(".idsk-in-page-navigation__list-item");if(window.pageYOffset<=i?e.classList.remove("idsk-in-page-navigation--sticky"):e.classList.add("idsk-in-page-navigation--sticky"),this.$module.labelChanged)this.$module.labelChanged=!1;else if(e.classList.contains("idsk-in-page-navigation--sticky")){var n=this;t.some(function(e,t){if(e.el.offsetTop>=window.scrollY&&e.el.offsetTop<=window.scrollY+window.innerHeight)return n.changeCurrentLink(s[t]),!0})}else this.changeCurrentLink(s[0])},w.prototype.changeCurrentLink=function(e){var t=this.$module,i=e.closest(".idsk-in-page-navigation__list-item"),s=i.querySelector(".idsk-in-page-navigation__link-title"),n=t.querySelectorAll(".idsk-in-page-navigation__list-item"),o=t.querySelector(".idsk-in-page-navigation__link-panel-button");n.forEach(function(e){e.classList.remove("idsk-in-page-navigation__list-item--active")}),i.classList.add("idsk-in-page-navigation__list-item--active"),o.innerText=s.innerText,i.scrollIntoView({block:"nearest",inline:"nearest"})},E.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-search-component__input");t&&t.forEach(function(e){e.addEventListener("change",this.handleSearchInput.bind(this))}.bind(this))}},E.prototype.handleSearchInput=function(e){var t=e.target||e.srcElement||e,i=t.closest(".idsk-search-component").querySelector("label");""==t.value?i.classList.remove("govuk-visually-hidden"):i.classList.add("govuk-visually-hidden")},C.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-filter-menu__toggle"),i=e.querySelector("form"),s=e.querySelectorAll(".govuk-input, .govuk-select");b(t,function(e){e.addEventListener("click",this.handleClickTogglePanel.bind(this))}.bind(this)),i&&i.addEventListener("submit",function(e){e.preventDefault(),this.handleSubmitFilter(this)}.bind(this)),b(s,function(e){e.addEventListener("change",this.handleFilterValueChange.bind(this)),e.addEventListener("keyup",function(e){"Enter"===e.key?this.sendSubmitEvent():this.handleFilterValueChange(e)}.bind(this))}.bind(this)),window.addEventListener("resize",this.handleWindowResize.bind(this))}},C.prototype.sendSubmitEvent=function(){this.$module.querySelector("form").dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},C.prototype.handleClickTogglePanel=function(e){var t=e.target||e.srcElement,i=t.parentNode,s=t.nextElementSibling,n=t.dataset.openText,o=t.dataset.closeText,r=i.classList.contains("idsk-table-filter__category");if(r){var a=i.parentNode,l=r?18:20,d=s.style.height&&"0px"!==s.style.height?parseInt(a.style.height)-s.scrollHeight-l+25:parseInt(a.style.height)+s.scrollHeight+l-25;a.style.height=d+"px"}m(i,"idsk-table-filter--expanded"),s.style.height=(s.style.height&&"0px"!==s.style.height?"0":s.scrollHeight)+"px";var c="0px"===s.style.height,u=c?n:o;t.innerHTML=u,t.setAttribute("aria-label",u+(t.dataset.categoryName?" "+t.dataset.categoryName:""));var h=s.querySelectorAll(":scope > .idsk-table-filter__filter-inputs input, :scope > .idsk-table-filter__filter-inputs select, .idsk-filter-menu__toggle"),p=c?-1:0;b(h,function(e){e.tabIndex=p})},C.prototype.removeActiveFilter=function(t){var i=this.$module.querySelector('.govuk-input[name="'+t.name+'"], .govuk-select[name="'+t.name+'"]');"SELECT"===i.tagName?i.querySelectorAll("option").forEach(function(e,t){""===e.value&&(i.selectedIndex=t)}):i.value="",i.dispatchEvent(new Event("change")),this.sendSubmitEvent(),this.$activeFilters=this.$activeFilters.filter(function(e){return e.id!==t.id}),this.renderActiveFilters(this)},C.prototype.removeAllActiveFilters=function(e){this.$activeFilters.forEach(function(e){this.removeActiveFilter(e)}.bind(this))},C.prototype.renderActiveFilters=function(e){var t=this.$module.querySelector(".idsk-table-filter__active-filters"),s=t.querySelector(".idsk-table-filter__active-filters .idsk-table-filter__content");if(s.innerHTML="",t.classList.contains("idsk-table-filter__active-filters__hide")&&t.classList.add("idsk-table-filter--expanded"),this.$activeFilters.forEach(function(e){var t=document.createElement("div");t.classList.add("idsk-table-filter__parameter","govuk-body");var i='<button class="idsk-table-filter__parameter-remove" tabindex="0">✕ <span class="govuk-visually-hidden">'+this.removeFilterText+" "+e.value+"</span></button>";t.innerHTML='<span class="idsk-table-filter__parameter-title">'+e.value+"</span>"+i,t.querySelector(".idsk-table-filter__parameter-remove").addEventListener("click",function(){this.removeActiveFilter(e)}.bind(this)),s.appendChild(t)}.bind(this)),0<this.$activeFilters.length){t.classList.remove("idsk-table-filter__active-filters__hide");var i=document.createElement("button");i.classList.add("govuk-body","govuk-link"),i.innerHTML='<span class="idsk-table-filter__parameter-title">'+this.removeAllFiltersText+" ("+this.$activeFilters.length+')</span><span class="idsk-table-filter__parameter-remove">✕</span>',i.addEventListener("click",this.removeAllActiveFilters.bind(this)),s.appendChild(i)}else t.classList.add("idsk-table-filter__active-filters__hide");var n=this.$module.querySelector(".idsk-table-filter__active-filters.idsk-table-filter--expanded .idsk-table-filter__content");n&&(n.style.height="initial",n.style.height=n.scrollHeight+"px")},C.prototype.renderSelectedFiltersCount=function(e){var t=this.$module.querySelector(".submit-table-filter");t.disabled=0===this.selectedFitlersCount,t.querySelector(".count").innerHTML=this.selectedFitlersCount},C.prototype.handleSubmitFilter=function(e){var t=this.$module.querySelectorAll(".idsk-table-filter__inputs input"),i=this.$module.querySelectorAll(".idsk-table-filter__inputs select");this.$activeFilters=[],t.forEach(function(e){0<e.value.length&&this.$activeFilters.push({id:e.getAttribute("id"),name:e.getAttribute("name"),value:e.value})}.bind(this)),i.forEach(function(e){e.value&&this.$activeFilters.push({id:e.value,name:e.getAttribute("name"),value:e.options[e.selectedIndex].text})}.bind(this)),this.renderActiveFilters(this)},C.prototype.handleFilterValueChange=function(e){var t=(e.target||e.srcElement).closest(".idsk-table-filter__category");if(t){var i=t.querySelectorAll(".idsk-table-filter__inputs input, .idsk-table-filter__inputs select"),s=0;i.forEach(function(e){e.value&&s++}),t.querySelector(".count").innerHTML=s?"("+s+")":""}this.selectedFitlersCount=0,this.$module.querySelectorAll(".idsk-table-filter__inputs input, .idsk-table-filter__inputs select").forEach(function(e){e.value&&this.selectedFitlersCount++}.bind(this)),this.renderSelectedFiltersCount(this)},C.prototype.handleWindowResize=function(e){b(this.$module.querySelectorAll(".idsk-table-filter--expanded"),function(e){var t=e.querySelector(".idsk-table-filter__content");t.style.height="initial",t.style.height=t.scrollHeight+"px"})},A.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders(),b(this.$links,function(e){e.addEventListener("click",this.handleItemLink.bind(this)),e.addEventListener("blur",this.handleItemLinkBlur.bind(this))}.bind(this));var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},A.prototype.initControls=function(){var e=this.$module.querySelector(".idsk-stepper__controls");this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML=e.dataset.line1+' <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.$openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button"),e.appendChild(this.$openAllButton),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},A.prototype.initSectionHeaders=function(){b(this.$sections,function(e,t){var i=e.querySelector("."+this.$sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},A.prototype.handleItemLink=function(e){(e.target||e.srcElement).closest(".idsk-stepper__section").classList.add("idsk-stepper__bolder-line")},A.prototype.handleItemLinkBlur=function(e){(e.target||e.srcElement).closest(".idsk-stepper__section").classList.remove("idsk-stepper__bolder-line")},A.prototype.initHeaderAttributes=function(t,e){var i=this.$module,s=t.querySelector("."+this.$sectionButtonClass),n=t.querySelector("."+this.$sectionHeadingClass),o=t.querySelector("."+this.$sectionSummaryClass);if(s){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.$moduleId+"-heading-"+(e+1)),r.setAttribute("aria-controls",this.$moduleId+"-content-"+(e+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",function(e){t.classList.contains(i.$sectionHeaderFocusedClass)||(t.className+=" "+i.$sectionHeaderFocusedClass)}),r.addEventListener("blur",function(e){t.classList.remove(i.$sectionHeaderFocusedClass)}),null!=o&&r.setAttribute("aria-describedby",this.$moduleId+"-summary-"+(e+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var d=document.createElement("span");d.className=this.$iconClass,d.setAttribute("aria-hidden","true"),n.appendChild(d)}},A.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},A.prototype.onOpenOrCloseAllToggle=function(){var t=this,e=this.$sections,i=!this.checkIfAllSectionsOpen();b(e,function(e){t.setExpanded(i,e),t.storeState(e)}),t.updateOpenAllButton(i)},A.prototype.setExpanded=function(e,t){var i=t.querySelector("."+this.$sectionButtonClass);if(i){i.setAttribute("aria-expanded",e),e?t.classList.add(this.$sectionExpandedClass):t.classList.remove(this.$sectionExpandedClass);var s=this.checkIfAllSectionsOpen();this.updateOpenAllButton(s)}},A.prototype.isExpanded=function(e){return e.classList.contains(this.$sectionExpandedClass)},A.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.$sectionExpandedClass).length},A.prototype.updateOpenAllButton=function(e){var t=this.$module.querySelector(".idsk-stepper__controls"),i=e?t.dataset.line2:t.dataset.line1;i+='<span class="govuk-visually-hidden"> sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=i};var x={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};function q(e){this.$module=e}function $(e){this.$module=e}function T(e){this.$module=e,this.$currentData=null,this.$currentMode=""}function B(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.browserSupportsSessionStorage=P.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded",this.$openAllButton=e.querySelector(".govuk-accordion__open-all"),this.$sectionSpan=e.querySelector(".govuk-accordion__controls-span"),this.openTitle=this.$openAllButton.dataset.openTitle,this.closeTitle=this.$openAllButton.dataset.closeTitle,this.sectionTitle=this.$sectionSpan.dataset.sectionTitle}A.prototype.storeState=function(e){if(this.$browserSupportsSessionStorage){var t=e.querySelector("."+this.$sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},A.prototype.setInitialState=function(e){if(this.$browserSupportsSessionStorage){var t=e.querySelector("."+this.$sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},q.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-subscription-form__submit-handler");t&&t.addEventListener("submit",this.handleSubmitForm.bind(this))}},q.prototype.handleSubmitForm=function(e){e.preventDefault(),""!==e.target.querySelector("input[type=email]").value&&this.$module.classList.add("idsk-subscription-form__subscription-confirmed")},$.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-registration-for-event-js-submit");t&&t.forEach(function(e){e.addEventListener("click",this.handleSubmitClick.bind(this))}.bind(this))}},$.prototype.handleSubmitClick=function(i){var e=this.$module,t=e.querySelector(".idsk-registration-for-event__form"),s=e.querySelector(".idsk-registration-for-event__thank-you-msg"),n=e.querySelectorAll("[required]"),o=!0,r=/\S+@\S+\.\S+/;n.forEach(function(e){var t=e.closest(".govuk-form-group");!e.checkValidity()||"email"===e.type&&!r.test(e.value)?(i.preventDefault(),t.querySelector(".govuk-error-message").style.display="block",t.classList.add("govuk-form-group--error"),e.classList.add("govuk-input--error"),o=!1):(t.querySelector(".govuk-error-message").style.display="none",t.classList.remove("govuk-form-group--error"),e.classList.remove("govuk-input--error"))}),o&&(s.style.display="block",t.style.display="none")},T.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-intereactive-map__radio-map");t&&t.addEventListener("click",this.handleRadioButtonModeClick.bind(this,"map"));var i=e.querySelector(".idsk-intereactive-map__radio-table");i&&i.addEventListener("click",this.handleRadioButtonModeClick.bind(this,"table"));var s=e.querySelector(".idsk-interactive-map__select-time-period");s&&s.addEventListener("change",this.renderData.bind(this));var n=e.querySelector(".idsk-interactive-map__select-indicator");n&&n.addEventListener("change",this.renderData.bind(this));var o=e.querySelector(".govuk-radios__input").getAttribute("name"),r=e.querySelector('input[name="'+o+'"]:checked').value;this.handleRadioButtonModeClick(r),this.renderData()}},T.prototype.handleRadioButtonModeClick=function(e){var t=e,i=this.$module;this.$currentMode!==t&&("table"===(this.$currentMode=t)?(i.querySelector(".idsk-interactive-map__table").style.display="block",i.querySelector(".idsk-interactive-map__map").style.display="none"):"map"===t&&(i.querySelector(".idsk-interactive-map__map").style.display="block",i.querySelector(".idsk-interactive-map__table").style.display="none",i.querySelector(".idsk-interactive-map__map-iframe").src+=""))},T.prototype.renderData=function(){var e=this.$module,t=e.querySelector(".idsk-interactive-map__table-iframe"),i=t.dataset.src,s=e.querySelector(".idsk-interactive-map__map-iframe"),n=s.dataset.src,o=e.querySelector(".idsk-interactive-map__select-time-period"),r=o.options[o.selectedIndex].value,a=o.options[o.selectedIndex].text,l=e.querySelector(".idsk-interactive-map__select-indicator");if(l){var d=l.options[l.selectedIndex].value,c=l.options[l.selectedIndex].text;e.querySelector(".idsk-interactive-map__current-indicator").innerText=c,e.querySelector(".idsk-interactive-map__current-time-period").innerText=a}s.src=n+"?indicator="+d+"&time="+r,t.src=i+"?indicator="+d+"&time="+r},B.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},B.prototype.initControls=function(){this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},B.prototype.initSectionHeaders=function(){b(this.$sections,function(e,t){var i=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},B.prototype.initHeaderAttributes=function(t,e){var i=this,s=t.querySelector("."+this.sectionButtonClass),n=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass),r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.moduleId+"-heading-"+(e+1)),r.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",function(e){t.classList.contains(i.sectionHeaderFocusedClass)||(t.className+=" "+i.sectionHeaderFocusedClass)}),r.addEventListener("blur",function(e){t.classList.remove(i.sectionHeaderFocusedClass)}),null!=o&&r.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var d=document.createElement("span");d.className=this.iconClass,d.setAttribute("aria-hidden","true"),n.appendChild(d)},B.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},B.prototype.onOpenOrCloseAllToggle=function(){var t=this,e=this.$sections,i=!this.checkIfAllSectionsOpen();b(e,function(e){t.setExpanded(i,e),t.storeState(e)}),t.updateOpenAllButton(i)},B.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)},B.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},B.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},B.prototype.updateOpenAllButton=function(e){var t=e?this.closeTitle:this.openTitle;t+='<span class="govuk-visually-hidden section-span"> '+this.sectionTitle+"</span>",this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var P={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){"undefined"!=typeof console&&"undefined"!=typeof console.log||console.log("Notice: sessionStorage not available.")}}};function F(e){this.$module=e,this.$tabs=e.querySelectorAll(".idsk-tabs__tab"),this.$mobileTabs=e.querySelectorAll(".idsk-tabs__mobile-tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="idsk-tabs__panel--hidden",this.mobileTabHiddenClass="idsk-tabs__mobile-tab-content--hidden"}function M(e){this.$module=e}function H(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;b(t.querySelectorAll('[data-module="idsk-feedback"]'),function(e){new S(e).init()}),b(t.querySelectorAll('[data-module="idsk-crossroad"]'),function(e){new L(e).init()}),new w(t.querySelector('[data-module="idsk-in-page-navigation"]')).init(),b(t.querySelectorAll('[data-module="idsk-search-component"]'),function(e){new E(e).init()}),b(t.querySelectorAll('[data-module="idsk-stepper"]'),function(e){new A(e).init()}),b(t.querySelectorAll('[data-module="idsk-registration-for-event"]'),function(e){new $(e).init()}),b(t.querySelectorAll('[data-module="idsk-interactive-map"]'),function(e){new T(e).init()}),b(t.querySelectorAll('[data-module="idsk-accordion"]'),function(e){new B(e).init()}),b(t.querySelectorAll('[data-module="idsk-tabs"]'),function(e){new F(e).init()}),b(t.querySelectorAll('[data-module="idsk-table"]'),function(e){new M(e).init()}),b(t.querySelectorAll('[data-module="idsk-table-filter"]'),function(e){new C(e).init()}),b(t.querySelectorAll('[data-module="idsk-subscription-form"]'),function(e){new q(e).init()}),function i(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;b(t.querySelectorAll('[data-module="idsk-button"]'),function(e){new u(e).init()}),b(t.querySelectorAll('[data-module="idsk-footer-extended"]'),function(e){new h(e).init()}),b(t.querySelectorAll('[data-module="idsk-character-count"]'),function(e){new p(e).init()}),b(t.querySelectorAll('[data-module="idsk-customer-surveys"]'),function(e){new f(e).init()}),b(t.querySelectorAll('[data-module="idsk-header-web"]'),function(e){new v(e).init()}),new k(t.querySelector('[data-module="idsk-search-results"]')).init(),c(e)}(e),_(e)}function I(e){this.$module=e}function N(e){this.$module=e,this.$lastMenuElement="",this.$firstMenuElement=""}function O(e){this.$module=e}B.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&"undefined"!=typeof console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},B.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},F.prototype.init=function(){this.setup()},F.prototype.setup=function(){var e=this.$module,t=this.$tabs,i=this.$mobileTabs,s=e.querySelector(".idsk-tabs__list"),n=e.querySelectorAll(".idsk-tabs__list-item");if(t&&s&&n){s.setAttribute("role","tablist"),b(n,function(e){e.setAttribute("role","presentation")}),b(i,function(e){e.setAttribute("role","presentation")}),b(t,function(e,t){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.addEventListener("click",e.boundTabClick,!0),i[t].addEventListener("click",e.boundTabClick,!0),this.hideTab(e)}.bind(this));var o=this.getTab(window.location.hash)||this.$tabs[0];this.toggleMobileTab(o),this.showTab(o),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},F.prototype.onHashChange=function(e){var t=window.location.hash,i=this.getTab(t);if(i)if(this.changingHash)this.changingHash=!1;else{var s=this.getCurrentTab();this.hideTab(s),this.showTab(i),i.focus()}},F.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},F.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},F.prototype.toggleMobileTab=function(e,t){t=t||!1;var i=this.getPanel(e),s=i.previousElementSibling;s.classList.toggle("idsk-tabs__mobile-tab--selected"),(i=i.querySelector(".idsk-tabs__mobile-tab-content")).classList.toggle(this.mobileTabHiddenClass),s.classList.contains("idsk-tabs__mobile-tab--selected")&&t&&(s.classList.remove("idsk-tabs__mobile-tab--selected"),i.classList.add(this.mobileTabHiddenClass))},F.prototype.getTab=function(e){return this.$module.querySelector('.idsk-tabs__tab[href="'+e+'"]')},F.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1),i=this.$mobileTabs[e.getAttribute("item")];e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),i.setAttribute("id","tab_"+t),i.setAttribute("role","tab"),i.setAttribute("aria-controls",t),i.setAttribute("aria-selected","false");var s=this.getPanel(e);s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",e.id),s.classList.add(this.jsHiddenClass)},F.prototype.unsetAttributes=function(e){var t=this.$mobileTabs[e.getAttribute("item")];e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected");var i=this.getPanel(e);i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.classList.remove(this.jsHiddenClass)},F.prototype.onTabClick=function(e){if(!(e.target.classList.contains("idsk-tabs__tab")||e.target.classList.contains("idsk-tabs__mobile-tab")||e.target.classList.contains("idsk-tabs__tab-arrow-mobile")))return!1;e.preventDefault();var t=e.target,i=this.getCurrentTab();t.classList.contains("idsk-tabs__tab-arrow-mobile")&&(t=t.parentElement),"BUTTON"==t.nodeName&&((t=this.$tabs[t.getAttribute("item")])==i?this.toggleMobileTab(i):(this.toggleMobileTab(i,!0),this.toggleMobileTab(t))),this.hideTab(i),this.showTab(t),this.createHistoryEntry(t)},F.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),i=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=i},F.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},F.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},F.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},F.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),this.$mobileTabs[e.getAttribute("item")].setAttribute("aria-selected","false"),e.parentNode.classList.remove("idsk-tabs__list-item--selected")},F.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),this.$mobileTabs[e.getAttribute("item")].setAttribute("aria-selected","true"),e.parentNode.classList.add("idsk-tabs__list-item--selected")},F.prototype.getCurrentTab=function(){return this.$module.querySelector(".idsk-tabs__list-item--selected .idsk-tabs__tab")},F.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},M.prototype.init=function(){this.setup()},M.prototype.setup=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-table__meta-print-button");t&&t.addEventListener("click",this.printTable.bind(this))}},M.prototype.printTable=function(){var e=this.$module.querySelector(".idsk-table").outerHTML;document.body.innerHTML="<html><head><title></title></head><body>"+e+"</body>",window.print(),window.location.reload()},I.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".govuk-js-header-toggle");t&&t.addEventListener("click",this.handleClick.bind(this))}},I.prototype.toggleClass=function(e,t){0<e.className.indexOf(t)?e.className=e.className.replace(" "+t,""):e.className+=" "+t},I.prototype.handleClick=function(e){var t=this.$module,i=e.target||e.srcElement,s=t.querySelector("#"+i.getAttribute("aria-controls"));i&&s&&(this.toggleClass(s,"govuk-header__navigation--open"),this.toggleClass(i,"govuk-header__menu-button--open"),i.setAttribute("aria-expanded","true"!==i.getAttribute("aria-expanded")),s.setAttribute("aria-hidden","false"===s.getAttribute("aria-hidden")))},N.prototype.init=function(){var i=this.$module;if(i){var e=i.querySelectorAll(".idsk-header-extended__search");e&&b(e,function(e){e.addEventListener("change",this.handleSearchChange.bind(this)),e.dispatchEvent(new Event("change"))}.bind(this));var t=i.querySelectorAll(".idsk-header-extended__language-button");if(t)b(t,function(e){e.addEventListener("click",this.handleLanguageSwitcherClick.bind(this)),e.addEventListener("focus",this.handleLanguageSwitcherClick.bind(this))}.bind(this)),b(i.querySelectorAll(".idsk-header-extended__language-list-item:last-child .idsk-header-extended__language-list-link"),function(e){e.addEventListener("blur",this.checkBlurLanguageSwitcherClick.bind(this))}.bind(this));var s=i.querySelectorAll(".idsk-header-extended__link");s&&b(s,function(e){e.addEventListener("click",this.handleSubmenuClick.bind(this)),e.addEventListener("focus",this.handleSubmenuClick.bind(this))}.bind(this));var n=i.querySelector(".idsk-js-header-extended-side-menu"),o=i.querySelector(".idsk-header-extended__mobile-close");if(n&&o&&(this.initMobileMenuTabbing(),n.addEventListener("click",this.showMobileMenu.bind(this)),o.addEventListener("click",this.hideMobileMenu.bind(this))),window.addEventListener("scroll",this.scrollFunction.bind(this)),i.boundCheckBlurMenuItemClick=this.checkBlurMenuItemClick.bind(this),i.boundCheckBlurLanguageSwitcherClick=this.checkBlurLanguageSwitcherClick.bind(this),!window.localStorage.getItem("acceptedCookieBanner")){i.classList.add("idsk-header-extended--cookie");var r=document.querySelector(".idsk-cookie-banner");if(r)window.addEventListener("scroll",function(){var e=document.body.getBoundingClientRect().top,t=r.offsetHeight;e<-t?(i.classList.remove("idsk-header-extended--cookie"),i.style.top="0px"):(i.classList.add("idsk-header-extended--cookie"),i.style.top=t.toString()+"px")}),new ResizeObserver(function(){i.style.top=r.offsetHeight.toString()+"px"}).observe(r)}}},N.prototype.handleSearchChange=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-header-extended__search").querySelector("label");t.value?i.classList.add("idsk-header-extended__search-input--focus"):i.classList.remove("idsk-header-extended__search-input--focus")},N.prototype.handleLanguageSwitcherClick=function(e){var t=e.target||e.srcElement;this.$activeSearch=t.closest(".idsk-header-extended__language"),m(this.$activeSearch,"idsk-header-extended__language--active"),document.addEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},N.prototype.checkBlurLanguageSwitcherClick=function(){this.$activeSearch.classList.remove("idsk-header-extended__language--active"),document.removeEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},N.prototype.handleSubmenuClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-header-extended__navigation-item"),i=this.$module.querySelectorAll(".idsk-header-extended__navigation-item--active");0<i.length&&i[0].classList.remove("idsk-header-extended__navigation-item--active"),m(t,"idsk-header-extended__navigation-item--active"),document.addEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0)},N.prototype.checkBlurMenuItemClick=function(){this.$module.querySelectorAll(".idsk-header-extended__navigation-item--active")[0].classList.remove("idsk-header-extended__navigation-item--active"),document.removeEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0)},N.prototype.showMobileMenu=function(e){var t=this.$module.querySelector(".idsk-js-header-extended-side-menu");this.$module.classList.add("idsk-header-extended--show-mobile-menu"),document.getElementsByTagName("body")[0].style.overflow="hidden",document.activeElement==t&&this.$lastMenuElement.focus()},N.prototype.hideMobileMenu=function(e){var t=this.$module.querySelector(".idsk-js-header-extended-side-menu");this.$module.classList.remove("idsk-header-extended--show-mobile-menu"),document.getElementsByTagName("body")[0].style.overflow="visible",t.focus()},N.prototype.initMobileMenuTabbing=function(){var e=this.$module.querySelectorAll(".idsk-header-extended__mobile")[0].querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');this.$firstMenuElement=e[0],this.$lastMenuElement=e[e.length-1];document.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===this.$firstMenuElement&&(this.$lastMenuElement.focus(),e.preventDefault()):document.activeElement===this.$lastMenuElement&&(this.$firstMenuElement.focus(),e.preventDefault()))}.bind(this))},N.prototype.scrollFunction=function(){var e=this.$module;80<document.body.scrollTop||80<document.documentElement.scrollTop?e.classList.add("idsk-header-extended--shrink"):document.body.scrollTop<10&&document.documentElement.scrollTop<10&&e.classList.remove("idsk-header-extended--shrink")},O.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-search-results__link-panel-button");if(t){var i=e.querySelector("#idsk-search-input__topic");i&&i.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var s=e.querySelector("#idsk-search-input__subtopic");s&&s.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var n=e.querySelector("#idsk-search-input__content-type");n&&n.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"checkboxes"));var o=e.querySelectorAll(".idsk-search-results__filter .govuk-radios__input ");if(o){var r=e.querySelectorAll(".idsk-search-results__filter .govuk-checkboxes__input ");r&&(o.forEach(function(e){e.addEventListener("click",this.handleClickRadioButton.bind(this),!0)}.bind(this)),r.forEach(function(e){e.addEventListener("click",this.handleClickContentTypeCheckBox.bind(this),!0)}.bind(this)),t.forEach(function(e){e.addEventListener("click",this.handleClickLinkPanel.bind(this))}.bind(this)))}}}},O.prototype.handleClickRadioButton=function(e){(e.target||e.srcElement).closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span").innerText="1 vybraté"},O.prototype.handleClickContentTypeCheckBox=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-search-results__link-panel"),s=t.closest(".govuk-checkboxes");this.handleCountOfPickedContentTypes.call(this,s,i)},O.prototype.handleCountOfPickedContentTypes=function(e,t){var i=t.querySelector(".idsk-search-results__link-panel--span"),s=0;e&&e.querySelectorAll(".govuk-checkboxes__input").forEach(function(e){e.checked&&(s+=1)}.bind(this)),i.innerText=0==s?"":s+" vybraté"},O.prototype.handleSearchItemsFromInput=function(t,e){var i=e.target||e.srcElement,s=i.closest(".idsk-search-results__link-panel").querySelectorAll(".govuk-"+t+"__item");s.forEach(function(e){e.classList.remove("idsk-search-results--invisible")}.bind(this)),s.forEach(function(e){e.querySelector(".govuk-"+t+"__label").innerText.toLowerCase().includes(i.value.toLowerCase())||e.classList.add("idsk-search-results--invisible")}.bind(this))},O.prototype.handleClickLinkPanel=function(e){var t=(e.target||e.srcElement).closest(".idsk-search-results__link-panel");m(t.querySelector(".idsk-search-results__list"),"idsk-search-results--hidden"),m(t,"idsk-search-results--expand")},e.initAll=function j(e){var t="undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document;b(t.querySelectorAll('[data-module="idsk-header-extended"]'),function(e){new N(e).init()}),b(t.querySelectorAll('[data-module="idsk-search-results-filter"]'),function(e){new O(e).init()}),H(e),function i(e){new I(("undefined"!=typeof(e=void 0!==e?e:{}).scope?e.scope:document).querySelector('[data-module="govuk-header"]')).init(),_(e)}(e)},e.HeaderExtended=N,e.SearchResultsFilter=O});

//# sourceMappingURL=idsk-frontend.min.js.map
